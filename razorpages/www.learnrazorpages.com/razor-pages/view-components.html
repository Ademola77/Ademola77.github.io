<!DOCTYPE html>
<html>

<!-- Mirrored from www.learnrazorpages.com/razor-pages/view-components by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:12:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="View Components in Razor Pages perform a similar role to Partial Pages. They represent reusable snippets of UI that can help break up and simplify complex layouts, or that can be used in multiple pages." />
    <meta name="google-site-verification" content="MpV6gEoCh9OASgnoi656klwnlkni3_qOenITGlxBrjc" />
    <title>View Components in Razor Pages | Learn Razor Pages</title>
    <link rel="canonical" href="view-components.html" />
    <link rel="stylesheet" href="../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i|Roboto:300i,500,700" />
    <link rel="stylesheet" href="../../use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <link rel="stylesheet" href="../css/site8249.css?v=PCA7f9VuZUscxMwrePJfyFKXCF9mh2dMpXEDQU8oP3o" />
    <link rel="stylesheet" href="../css/rp14c5.css?v=ZxkVB0StHjR5-UMElJII7nwWe6Wmc6_qgJ97GsY4yNw" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({
                google_ad_client: "ca-pub-8046723421340367",
                enable_page_level_ads: true
            });
        </script>
</head>
<body id="page-top">
    <div class="navbar navbar-default navbar-static-top">
        <div>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <div class="navbar-brand">
                    <i class="fas fa-graduation-cap"></i> <a href="../index.html">Learn Razor Pages</a>
                    <br />
                    <span class="byline">Your guide to using ASP.NET Core Razor Pages</span>
                </div>
                <div class="banner">
                    
                        <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                        <!-- EF Core Leaderboard -->
                        <ins class="adsbygoogle"
                             style="display:inline-block;width:728px;height:90px"
                             data-ad-client="ca-pub-8046723421340367"
                             data-ad-slot="1832525889"></ins>
                        <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>                    
                </div>
            </div>

        </div>
    </div>
    <div class="navbar-default sidebar" role="navigation">
        <div class="sidebar-nav navbar-collapse">
            <nav class="main-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <ul class="nav nav-level-one" id="side-menu">
        <li>
            <a itemprop="url" href="../index.html">Home</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../first-look.html">A First Look</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../asp-net-core.html">ASP.NET Core</a>
        </li>
        <li><a itemprop="url" href="tutorial/bakery.html">Tutorials</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="tutorial/bakery.html">The Bakery</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages.html">Razor Page Files</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="files/index.html">Razor Files</a></li>
                <li><a itemprop="url" href="partial-pages.html">Partial Pages</a></li>
                <li><a itemprop="url" href="files/layout.html">Layout Files</a></li>
                <li><a itemprop="url" href="files/viewimports.html">ViewImports File</a></li>
                <li><a itemprop="url" href="files/viewstart.html">ViewStart File</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../razor-syntax.html">Razor Syntax</a>
        </li>
        <li>
            <a itemprop="url" href="pagemodel.html">Page Models</a>
            <ul class="nav-level-two">
                <li>
                    <a itemprop="url" href="handler-methods.html">Handler Methods</a>
                </li>
                <li>
                    <a itemprop="url" href="viewdata.html">ViewData</a>
                </li>
                <li>
                    <a itemprop="url" href="action-results.html">Action Results</a>
                </li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="tag-helpers/index.html">Tag Helpers</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="tag-helpers/anchor-tag-helper.html">Anchor Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/cache-tag-helper.html">Cache Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/distributed-cache-tag-helper.html">Distributed Cache Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/environment-tag-helper.html">Environment Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/form-action-tag-helper.html">Form Action Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/form-tag-helper.html">Form Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/image-tag-helper.html">Image Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/input-tag-helper.html">Input Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/label-tag-helper.html">Label Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/link-tag-helper.html">Link Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/option-tag-helper.html">Option Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/partial-tag-helper.html">Partial Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/script-tag-helper.html">Script Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/select-tag-helper.html">Select Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/textarea-tag-helper.html">TextArea Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/validation-message-tag-helper.html">Validation Message Tag Helper</a></li>
                <li><a itemprop="url" href="tag-helpers/validation-summary-tag-helper.html">Validation Summary Tag Helper</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="view-components.html">View Components</a>
        </li>
        <li>
            <a itemprop="url" href="routing.html">Routing and URLs</a>
            <ul class="nav-level-two">
                <li><a href="../advanced/custom-route-conventions.html">Customising Route Conventions</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../startup.html">Startup</a>
        </li>
        <li>
            <a itemprop="url" href="../configuration.html">Configuration</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../configuration/global-error-handling.html">Global Error Handling And Logging</a></li>
                <li><a itemprop="url" href="../configuration/custom-errors.html">Custom Error Pages</a></li>
                <li><a itemprop="url" href="../configuration/https.html">Configuring HTTPS</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../middleware.html">Middleware</a>
        </li>
        <li>
            <a itemprop="url" href="forms.html">Working With Forms</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="forms/file-upload.html">Uploading Files in Razor Pages</a></li>
                <li><a itemprop="url" href="forms/checkboxes.html">Working With Checkboxes</a></li>
                <li><a itemprop="url" href="forms/select-lists.html">Select Lists in a Razor Pages Form</a></li>
                <li><a itemprop="url" href="forms/radios.html">Working With Radio Buttons</a></li>
                <li><a itemprop="url" href="../security/request-verification.html">Request Verification</a></li>
            </ul>
        </li>
        <li><a itemprop="url" href="validation.html">Validation</a></li>
        <li>
            <a itemprop="url" href="model-binding.html">Model Binding</a>
        </li>
        <li>
            <a itemprop="url" href="state-management.html">State Management</a>
        </li>
        <li>
            <a itemprop="url" href="caching.html">Caching</a>
        </li>
        <li>
            <a itemprop="url" href="../identity.html">Managing Security With ASP.NET Identity</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../identity/customising-identity.html">Customising Identity</a></li>
            </ul>
        </li>
        <li>
		<a itemprop="url" href="ajax.html">Using AJAX</a>
		<ul class="nav-level-two">
			<li><a itemprop="url" href="ajax/form-post.html">Posting Forms</a>    </li>
			<li><a itemprop="url" href="ajax/partial-update.html">Partial Page Updates</a></li>
			<li><a itemprop="url" href="ajax/upload-files.html">Uploading Files</a></li>
			<li><a itemprop="url" href="ajax/unobtrusive-ajax.html">Unobtrusive AJAX</a></li>
		</ul>
	</li>
        <li>
            <a itemprop="url" href="../web-api.html">Working with JSON</a>
        </li>
        <li>
            <a itemprop="url" href="../miscellaneous/scaffolding.html">Scaffolding</a>
        </li>
        <li>
            <a itemprop="url" href="../publishing/publish-to-iis.html">Publishing To IIS</a>
        </li>
        <li>
            <a itemprop="url" href="../advanced.html">Advanced</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../advanced/areas.html">Areas</a></li>
                <li><a itemprop="url" href="../advanced/custom-tag-helpers.html">Custom Tag Helpers</a></li>
                <li><a itemprop="url" href="../advanced/custom-route-conventions.html">Customising Route Conventions</a></li>
                <li><a itemprop="url" href="../advanced/custom-constraints.html">Custom Route Constraints</a></li>
                <li><a itemprop="url" href="../advanced/route-parameter-transformers.html">Parameter Transformers For Routes</a></li>
                <li><a itemprop="url" href="../advanced/dependency-injection.html">Dependency Injection</a></li>
                <li><a itemprop="url" href="filters.html">Filters</a></li>
                <li><a itemprop="url" href="../advanced/razor-class-library.html">Razor Class Libraries</a></li>
                <li><a itemprop="url" href="../advanced/render-partial-to-string.html">Rendering A Partial View To A String</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../table-of-contents.html">Table Of Contents</a>
        </li>
    </ul>
</nav>

            <footer>
                <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
            </footer>
        </div>
        <!-- /.sidebar-collapse -->
    </div>

    <div id="page-wrapper">
        <div class="body-content">
            <div class="row">
                <div class="col-md-9">
                    
<div id="article">
    <h1 itemprop="headline" id="view-components-in-razor-pages">View Components in Razor Pages</h1>
<div itemprop="articleBody"><p>View Components perform a similar role to <a href="tag-helpers.html">Tag Helpers</a> and  <a href="partial-pages.html">Partial Pages</a>. They generate HTML and are designed to represent reusable snippets of UI that can help break up and simplify complex layouts, or that can be used in multiple pages. View components are recommended instead of partial pages or tag helpers whenever any form of logic is required to obtain data for inclusion in the resulting HTML snippet, specifically calls to an external resource such as a file, database or web service. View components also lend themselves to unit testing.</p>
<p>Examples of use cases for view components include data-driven menus, tag clouds and shopping basket widgets. The content and meta data for this page is read from a Markdown file. A view component is used to perform this task.</p>
<h2 id="elements-of-a-view-component">Elements of a view component</h2>
<p>View components consist of a class file and a <em>.cshtml</em> view file. The class file contains the logic for generating the model. It can be though of as a mini-controller, just as the Razor <a href="pagemodel.html">PageModel</a> file is considered to be a controller. The view file contains the template that's used to generate the HTML to be plugged in to the calling page.</p>
<p>The class file must conform to the following rules:</p>
<ul>
<li>It must derive from the <code>ViewComponent</code> class</li>
<li>It must have &quot;ViewComponent&quot; as a suffix to the class name or it must be decorated with the <code>[ViewComponent]</code> attribute (or derive from a class that's decorated with the <code>[ViewComponent]</code> attribute)</li>
<li>It must implement a method named <code>InvokeAsync</code> which must have a return type of <code>IViewComponentResult</code>. Typically, this is satisfied by a <code>return View(...)</code> statement in the method.</li>
</ul>
<p>By default, the view file is named <em>default.cshtml</em>. You can specify an alternative name for the view file by passing it to the <code>return View(...)</code> statement. The view file's placement within the application's file structure is important, because the framework searches pre-defined locations for it:</p>
<p><code>/Pages/Components/&lt;component name&gt;/Default.cshtml</code><br />
<code>/Views/Shared/Components/&lt;component name&gt;/Default.cshtml</code></p>
<p>The component name is the name of the view component class without the <em>ViewComponent</em> suffix (if it is applied). For a Razor Pages only site, the recommended location for view component views is the <em>/Pages/Components/</em> directory. The path that begins with <em>/Views</em> should only really be used if you are creating a hybrid Razor Pages/MVC application.</p>
<h2 id="walkthrough">Walkthrough</h2>
<p>The following walkthrough will result in two example view components being created. One will call into an external web service to obtain a list of people, and will display their names. The other will take a parameter representing the ID of one person whose details will be obtained from an external web service and then displayed in a widget.</p>
<p>The service APIs used in this example are hosted at  <a href="https://jsonplaceholder.typicode.com/">JSONPlaceholder</a> which provides free JSON APIs for development and testing purposes.</p>
<p>The view components will not be responsible for making calls to the external APIs. This task will be performed in a separate service class which will be injected into the view components via the built-in <a href="../advanced/dependency-injection.html">Dependency Injection</a> framework.</p>
<ol>
<li><p>Create a new Razor Pages site named <em>RazorPages</em> using Visual Studio or the <a href="../first-look.html#try-it-out-creating-your-first-razor-pages-application">command line</a>.</p>
</li>
<li><p>Add a new C# class file named <em>Domain.cs</em> to the root folder of the application and replace any existing content with the following:</p>
<pre><code class="language-csharp">namespace RazorPages
{
    public class User
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public string UserName { get; set; }
        public string Email { get; set; }
        public string Phone { get; set; }
        public string Website { get; set; }
        public Address Address { get; set; }
        public Company Company { get; set; }
    }

    public class Address
    {
        public string Street { get; set; }
        public string Suite { get; set; }
        public string City { get; set; }
        public string Zipcode { get; set; }
        public Geo Geo { get; set; }
    }
    public class Company
    {
        public string Name { get; set; }
        public string Catchphrase { get; set; }
        public string Bs { get; set; }
    }
    public class Geo
    {
        public float Lat { get; set;}
        public float Lng { get; set; }
    }
}
</code></pre>
<p>These classes map to the structure of the objects represented by the JSON provided by the API being used for this example.</p>
</li>
<li><p>Add a new folder named <em>Services</em> to the root folder<br />
<img src="../images/2017-08-05_21-19-06.png" class="img-fluid" alt="Services folder" /></p>
</li>
<li><p>Add a new C# class file named <em>IUserService.cs</em> to the <em>Services</em> folder. Replace any existing content with the following code:</p>
<pre><code class="language-csharp">using System.Collections.Generic;
using System.Threading.Tasks;

namespace RazorPages.Services
{
    public interface IUserService
    {
        Task&lt;List&lt;User&gt;&gt; GetUsersAsync();
        Task&lt;User&gt; GetUserAsync(int id);
    }
}
</code></pre>
<p>This is the interface that specifies the operations offered by the service</p>
</li>
<li><p>Add another new C# class file named <em>UserService.cs</em> to the <em>Services</em> folder and replace any existing content with the following:</p>
<pre><code class="language-csharp">using Newtonsoft.Json;
using System.Collections.Generic;
using System.Net.Http;
using System.Threading.Tasks;

namespace RazorPages.Services
{
    public class UserService : IUserService
    {
        public async Task&lt;List&lt;User&gt;&gt; GetUsersAsync()
        {
            using (var client = new HttpClient())
            {
                var endPoint = &quot;https://jsonplaceholder.typicode.com/users&quot;;
                var json = await client.GetStringAsync(endPoint);
                return JsonConvert.DeserializeObject&lt;List&lt;User&gt;&gt;(json);
            }
        }

        public async Task&lt;User&gt; GetUserAsync(int id)
        {
            using (var client = new HttpClient())
            {
                var endPoint = $&quot;https://jsonplaceholder.typicode.com/users/{id}&quot;;
                var json = await client.GetStringAsync(endPoint);
                return JsonConvert.DeserializeObject&lt;User&gt;(json);
            }
        }
    }
}

</code></pre>
<p>This class represents an implementation of the <code>IUserService</code> interface.</p>
</li>
<li><p>Add a folder named <em>ViewComponents</em> to the root of the application. Then add a new file to that folder, name it <em>UsersViewComponent.cs</em> and replace any existing content with the following:</p>
<pre><code class="language-csharp">using Microsoft.AspNetCore.Mvc;
using RazorPages.Services;
using System.Threading.Tasks;

namespace RazorPages.ViewComponents
{
    public class UsersViewComponent : ViewComponent
    {
        private IUserService _userService;

        public UsersViewComponent(IUserService userService)
        {
            _userService = userService;
        }

        public async Task&lt;IViewComponentResult&gt; InvokeAsync()
        {
            var users = await _userService.GetUsersAsync();
            return View(users);
        }
    }
}
</code></pre>
<p>This is the code part of the view component. It makes use of the built-in dependency injection system to resolve the implementation of <code>IUserService</code> which is injected into the constructor of the view component class. The <code>InvokeAsync</code> method obtains a <code>List&lt;User&gt;</code> from the service and passes it to the view.</p>
</li>
<li><p>Create a folder named <em>Components</em> in the <em>Pages</em> folder and then add another folder named <em>Users</em> to the newly created <em>Components</em> folder. Add a new file named <em>default.cshtml</em> to the <em>Users</em> folder. The resulting folder and file hierarchy should look like this:</p>
<p><img src="../images/2017-08-06_20-06-21.png" class="img-fluid" alt="ViewComponents view file" /></p>
</li>
<li><p>Replace the code in <em>default.cshtml</em> with the following:</p>
<pre><code class="language-html">@model List&lt;RazorPages.User&gt;
&lt;h3&gt;Users&lt;/h3&gt;
&lt;ul&gt;
    @foreach (var user in Model)
    {
        &lt;li&gt;@user.Name&lt;/li&gt;
    }
&lt;/ul&gt;
</code></pre>
<p>This is the view, and completes the view component. Notice that the view accepts a model of type <code>List&lt;User&gt;</code> via the <code>@model</code> directive, which is type passed to the view from the <code>InvokeAsync</code> method.</p>
</li>
<li><p>Open the <em>Startup.cs</em> file and add <code>using RazorPages.Services;</code> to the <code>using</code> directives at the top of the file. Then amend the <code>ConfigureServices</code> method so that the code looks like this:</p>
<pre><code class="language-csharp">public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc();
    services.AddTransient&lt;IUserService, UserService&gt;();
}
</code></pre>
<p>This step registers the <code>IUserService</code> with the dependency injection system, and specifies that <code>UserService</code> is the actual implementation to use.</p>
</li>
<li><p>Open the <em>Layout.cshtml</em> file and locate the content between the <code>&lt;nav&gt;</code> section and the <code>&lt;environment&gt;</code> tag helper that currently looks like this:</p>
<pre><code class="language-html">&lt;div class=&quot;container body-content&quot;&gt;

    @RenderBody()
    &lt;hr /&gt;
    &lt;footer&gt;
        &lt;p&gt;&amp;copy; 2017 - RazorPages&lt;/p&gt;
    &lt;/footer&gt;
&lt;/div&gt;
</code></pre>
<p>Change the content as follows:</p>
<pre><code class="language-html">&lt;div class=&quot;container body-content&quot;&gt;
    &lt;div class=&quot;col-md-9&quot;&gt;
        @RenderBody()
    &lt;/div&gt;
    &lt;div class=&quot;col-md-3&quot;&gt;
        @await  Component.InvokeAsync(&quot;Users&quot;)
    &lt;/div&gt;
&lt;/div&gt;
&lt;hr /&gt;
&lt;footer class=&quot;container&quot;&gt;
    &lt;p&gt;&amp;copy; 2017 - RazorPages&lt;/p&gt;
&lt;/footer&gt;
</code></pre>
<p>This converts the layout for the site to 2 columns, with page content displayed in the left hand column and a Users widget displayed in the right hand column. It uses the <code>Component.InvokeAsync</code> method to render the output of the view component to the page. The string which is passed to the method represents the name of the view component (the class name without the &quot;ViewComponent&quot; suffix).</p>
</li>
<li><p>Run the site to ensure that all is working. The list of users should appear on the right hand side of every page:</p>
<p><img src="../images/07-08-2017-08-24-53.png" class="img-fluid" alt="User View Component" /></p>
</li>
</ol>
<h2 id="taghelper-and-passing-parameters">Taghelper and passing parameters</h2>
<p>The second example will demonstrate the use of a tag helper instead of calling the <code>Component.InvokeAsync</code> method. It will also demonstrate passing parameters to the view component.</p>
<ol>
<li><p>Add a new C# class file to the <em>ViewComponents</em> folder and name it <em>UserViewComponent.cs</em>. Replace any existing content with the following:</p>
<pre><code class="language-csharp">using Microsoft.AspNetCore.Mvc;
using RazorPages.Services;
using System.Threading.Tasks;

namespace RazorPages.ViewComponents
{
    public class UserViewComponent : ViewComponent
    {
        private IUserService _userService;

        public UserViewComponent(IUserService userService)
        {
            _userService = userService;
        }

        public async Task&lt;IViewComponentResult&gt; InvokeAsync(int id)
        {
            var user = await _userService.GetUserAsync(id);
            return View(user);
        }
    }
}
</code></pre>
<p>This is the code part of the view component. The only difference between this component and the previous one is that the <code>InvokeAsync</code> method expects a parameter of type <code>int</code> to be passed, which is then passed to the service method.</p>
</li>
<li><p>Add a new folder to the <em>/Pages/Components</em> folder named <em>User</em>. Add a Razor file to the folder named <em>default.cshtml</em>. The structure of the <em>Components</em> folder should now look like this:</p>
<p><img src="../images/07-08-2017-08-50-21.png" class="img-fluid" alt="user view component" /></p>
</li>
<li><p>Replace any existing content in the new <em>default.cshtml</em> file with the following:</p>
<pre><code class="language-html">@model RazorPages.User

&lt;h3&gt;Featured User&lt;/h3&gt;
&lt;div&gt;
    &lt;strong&gt;@Model.Name&lt;/strong&gt;&lt;br /&gt;
    @Model.Website&lt;br /&gt;
    @Model.Company.Name&lt;br /&gt;
&lt;/div&gt;
</code></pre>
</li>
<li><p>Open the <em>ViewImports.cshtml</em> file and add the following line to the existing code:</p>
<pre><code class="language-html">@addTagHelper *, RazorPages
</code></pre>
<p>This registers the view component tag.</p>
</li>
<li><p>Replace the call to <code>@await Component.InvokeAync(&quot;Users&quot;)</code> in the layout file with the following:</p>
<pre><code class="language-html">&lt;vc:user id=&quot;new Random().Next(1, 10)&quot;&gt;&lt;/vc:user&gt;
</code></pre>
<p>The name of the view component is specified in the tag helper, along with the parameter for the <code>InvokeAsync</code> method. In this case, the <code>Random</code> class is used to return any number from 1-10 each time the component is invoked, resulting in a user being selected randomly each time the page is displayed.</p>
</li>
<li><p>Run the application to test that the component is working, and refresh a few times to see different users' details being displayed:</p>
<p><img src="../images/07-08-2017-09-07-45.png" class="img-fluid" alt="user view component" /></p>
</li>
</ol>
<p>If you prefer to use the <code>Component.InvokeAsync</code> method, parameters are passed as a second argument:</p>
<pre><code class="language-html">@await Component.InvokeAsync(&quot;User&quot;, new Random().Next(1, 10))
</code></pre>

</div>
</div>
<section id="file-meta">
    <span class="file-meta-label">Last updated:</span> <span itemprop="dateModified">29/06/2018 09:55:11</span><br />
</section>

                </div>
                <div class="col-md-3 right-col">
                    
                            <script>
                        (function() {
                            var cx = 'partner-pub-8046723421340367:6108194070';
                            var gcse = document.createElement('script');
                            gcse.type = 'text/javascript';
                            gcse.async = true;
                            gcse.src = '../../cse.google.com/cse07b6.html?cx=' + cx;
                            var s = document.getElementsByTagName('script')[0];
                            s.parentNode.insertBefore(gcse, s);
                        })();
                            </script>
                        <gcse:searchbox-only></gcse:searchbox-only>
                    
                    <div id="doc-outline" class="doc-outline well">
                            <h3 class="doc-outline">On this page</h3>
                            <nav class="doc-outline">
                                <ul>
                                        <li><a itemprop="url" href="#view-components-in-razor-pages" class="page-scroll">View Components in Razor Pages</a></li>
                                        <li><a itemprop="url" href="#elements-of-a-view-component" class="page-scroll">Elements of a view component</a></li>
                                        <li><a itemprop="url" href="#walkthrough" class="page-scroll">Walkthrough</a></li>
                                        <li><a itemprop="url" href="#taghelper-and-passing-parameters" class="page-scroll">Taghelper and passing parameters</a></li>
                                </ul>
                            </nav>

                    </div>
                    <div class="rectangle">
                        
                                <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Rectangle -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:250px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="7622896857"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <div class="doc-outline well">
                        <h3 class="doc-outline">Latest Updates</h3>
                        <nav class="doc-outline">
                            <ul>
                                    <li><a itemprop="url" href="tutorial/bakery/migration.html">Creating A Migration</a></li>
                                    <li><a itemprop="url" href="tutorial/bakery/create-model.html">Working With A Model</a></li>
                                    <li><a itemprop="url" href="routing.html">Routing in Razor Pages</a></li>
                                    <li><a itemprop="url" href="tutorial/bakery/working-with-data.html">Working With Data</a></li>
                                    <li><a itemprop="url" href="tutorial/bakery/new-page.html">Adding a New Page</a></li>
                                    <li><a itemprop="url" href="tutorial/bakery.html">Creating an Application</a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="skyscraper">
                        
                                <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Skyscraper -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:600px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="4239197376"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <footer>
                        <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
                    </footer>
                </div>
            </div>
        </div>
        <a href="#page-top" id="back-to-top" class="page-scroll" title="Back to top"><i class="fas fa-arrow-alt-circle-up"></i></a>
    </div>
    <div class="cookie-box" id="cookie-warning">
        <div class="cookie-box-contents" id="learnrazorpages">This site uses cookies to analyse traffic, remember your preferences, and optimise your experience.</div>
        <div class="cookie-box-buttons"><a href="../privacy.html" class="cookie-button">Learn more</a><a href="#" class="cookie-button" id="cookie-close">Close</a></div>
    </div>
    <script src="../../ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"></script>
    <script src="../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.min.js"></script>
    <script src="../../code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    
    <script src="../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script src="../js/site59f2.js?v=gJZRD7PDF8oEm1Xb0uhLZcpf7Vs12fGO-q0DErBSF_Y"></script>
    
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1264020-21"></script>
        <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-1264020-21');
        </script>
    
    
</body>

<!-- Mirrored from www.learnrazorpages.com/razor-pages/view-components by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:12:58 GMT -->
</html>
