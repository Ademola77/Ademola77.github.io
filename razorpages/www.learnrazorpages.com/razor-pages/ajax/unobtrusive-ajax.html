<!DOCTYPE html>
<html>

<!-- Mirrored from www.learnrazorpages.com/razor-pages/ajax/unobtrusive-ajax by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:18:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Unobtrusive AJAX, like other unobtrusive libraries, works by examining selected HTML elements for the presence of specific custom `data-` attributes, and then attaching jQuery&#x27;s AJAX functions to those elements when they are clicked." />
    <meta name="google-site-verification" content="MpV6gEoCh9OASgnoi656klwnlkni3_qOenITGlxBrjc" />
    <title>jQuery Unobtrusive AJAX in ASP.NET Core Razor Pages | Learn Razor Pages</title>
    <link rel="canonical" href="unobtrusive-ajax.html" />
    <link rel="stylesheet" href="../../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i|Roboto:300i,500,700" />
    <link rel="stylesheet" href="../../../use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="../../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <link rel="stylesheet" href="../../css/site8249.css?v=PCA7f9VuZUscxMwrePJfyFKXCF9mh2dMpXEDQU8oP3o" />
    <link rel="stylesheet" href="../../css/rp14c5.css?v=ZxkVB0StHjR5-UMElJII7nwWe6Wmc6_qgJ97GsY4yNw" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script async src="../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({
                google_ad_client: "ca-pub-8046723421340367",
                enable_page_level_ads: true
            });
        </script>
</head>
<body id="page-top">
    <div class="navbar navbar-default navbar-static-top">
        <div>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <div class="navbar-brand">
                    <i class="fas fa-graduation-cap"></i> <a href="../../index.html">Learn Razor Pages</a>
                    <br />
                    <span class="byline">Your guide to using ASP.NET Core Razor Pages</span>
                </div>
                <div class="banner">
                    
                        <script async src="../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                        <!-- EF Core Leaderboard -->
                        <ins class="adsbygoogle"
                             style="display:inline-block;width:728px;height:90px"
                             data-ad-client="ca-pub-8046723421340367"
                             data-ad-slot="1832525889"></ins>
                        <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>                    
                </div>
            </div>

        </div>
    </div>
    <div class="navbar-default sidebar" role="navigation">
        <div class="sidebar-nav navbar-collapse">
            <nav class="main-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <ul class="nav nav-level-one" id="side-menu">
        <li>
            <a itemprop="url" href="../../index.html">Home</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../first-look.html">A First Look</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../asp-net-core.html">ASP.NET Core</a>
        </li>
        <li><a itemprop="url" href="../tutorial/bakery.html">Tutorials</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../tutorial/bakery.html">The Bakery</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../razor-pages.html">Razor Page Files</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../files/index.html">Razor Files</a></li>
                <li><a itemprop="url" href="../partial-pages.html">Partial Pages</a></li>
                <li><a itemprop="url" href="../files/layout.html">Layout Files</a></li>
                <li><a itemprop="url" href="../files/viewimports.html">ViewImports File</a></li>
                <li><a itemprop="url" href="../files/viewstart.html">ViewStart File</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../razor-syntax.html">Razor Syntax</a>
        </li>
        <li>
            <a itemprop="url" href="../pagemodel.html">Page Models</a>
            <ul class="nav-level-two">
                <li>
                    <a itemprop="url" href="../handler-methods.html">Handler Methods</a>
                </li>
                <li>
                    <a itemprop="url" href="../viewdata.html">ViewData</a>
                </li>
                <li>
                    <a itemprop="url" href="../action-results.html">Action Results</a>
                </li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../tag-helpers/index.html">Tag Helpers</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../tag-helpers/anchor-tag-helper.html">Anchor Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/cache-tag-helper.html">Cache Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/distributed-cache-tag-helper.html">Distributed Cache Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/environment-tag-helper.html">Environment Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/form-action-tag-helper.html">Form Action Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/form-tag-helper.html">Form Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/image-tag-helper.html">Image Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/input-tag-helper.html">Input Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/label-tag-helper.html">Label Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/link-tag-helper.html">Link Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/option-tag-helper.html">Option Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/partial-tag-helper.html">Partial Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/script-tag-helper.html">Script Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/select-tag-helper.html">Select Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/textarea-tag-helper.html">TextArea Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/validation-message-tag-helper.html">Validation Message Tag Helper</a></li>
                <li><a itemprop="url" href="../tag-helpers/validation-summary-tag-helper.html">Validation Summary Tag Helper</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../view-components.html">View Components</a>
        </li>
        <li>
            <a itemprop="url" href="../routing.html">Routing and URLs</a>
            <ul class="nav-level-two">
                <li><a href="../../advanced/custom-route-conventions.html">Customising Route Conventions</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../startup.html">Startup</a>
        </li>
        <li>
            <a itemprop="url" href="../../configuration.html">Configuration</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../configuration/global-error-handling.html">Global Error Handling And Logging</a></li>
                <li><a itemprop="url" href="../../configuration/custom-errors.html">Custom Error Pages</a></li>
                <li><a itemprop="url" href="../../configuration/https.html">Configuring HTTPS</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../middleware.html">Middleware</a>
        </li>
        <li>
            <a itemprop="url" href="../forms.html">Working With Forms</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../forms/file-upload.html">Uploading Files in Razor Pages</a></li>
                <li><a itemprop="url" href="../forms/checkboxes.html">Working With Checkboxes</a></li>
                <li><a itemprop="url" href="../forms/select-lists.html">Select Lists in a Razor Pages Form</a></li>
                <li><a itemprop="url" href="../forms/radios.html">Working With Radio Buttons</a></li>
                <li><a itemprop="url" href="../../security/request-verification.html">Request Verification</a></li>
            </ul>
        </li>
        <li><a itemprop="url" href="../validation.html">Validation</a></li>
        <li>
            <a itemprop="url" href="../model-binding.html">Model Binding</a>
        </li>
        <li>
            <a itemprop="url" href="../state-management.html">State Management</a>
        </li>
        <li>
            <a itemprop="url" href="../caching.html">Caching</a>
        </li>
        <li>
            <a itemprop="url" href="../../identity.html">Managing Security With ASP.NET Identity</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../identity/customising-identity.html">Customising Identity</a></li>
            </ul>
        </li>
        <li>
		<a itemprop="url" href="../ajax.html">Using AJAX</a>
		<ul class="nav-level-two">
			<li><a itemprop="url" href="form-post.html">Posting Forms</a>    </li>
			<li><a itemprop="url" href="partial-update.html">Partial Page Updates</a></li>
			<li><a itemprop="url" href="upload-files.html">Uploading Files</a></li>
			<li><a itemprop="url" href="unobtrusive-ajax.html">Unobtrusive AJAX</a></li>
		</ul>
	</li>
        <li>
            <a itemprop="url" href="../../web-api.html">Working with JSON</a>
        </li>
        <li>
            <a itemprop="url" href="../../miscellaneous/scaffolding.html">Scaffolding</a>
        </li>
        <li>
            <a itemprop="url" href="../../publishing/publish-to-iis.html">Publishing To IIS</a>
        </li>
        <li>
            <a itemprop="url" href="../../advanced.html">Advanced</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../advanced/areas.html">Areas</a></li>
                <li><a itemprop="url" href="../../advanced/custom-tag-helpers.html">Custom Tag Helpers</a></li>
                <li><a itemprop="url" href="../../advanced/custom-route-conventions.html">Customising Route Conventions</a></li>
                <li><a itemprop="url" href="../../advanced/custom-constraints.html">Custom Route Constraints</a></li>
                <li><a itemprop="url" href="../../advanced/route-parameter-transformers.html">Parameter Transformers For Routes</a></li>
                <li><a itemprop="url" href="../../advanced/dependency-injection.html">Dependency Injection</a></li>
                <li><a itemprop="url" href="../filters.html">Filters</a></li>
                <li><a itemprop="url" href="../../advanced/razor-class-library.html">Razor Class Libraries</a></li>
                <li><a itemprop="url" href="../../advanced/render-partial-to-string.html">Rendering A Partial View To A String</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../table-of-contents.html">Table Of Contents</a>
        </li>
    </ul>
</nav>

            <footer>
                <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
            </footer>
        </div>
        <!-- /.sidebar-collapse -->
    </div>

    <div id="page-wrapper">
        <div class="body-content">
            <div class="row">
                <div class="col-md-9">
                    
<div id="article">
    <h1 itemprop="headline" id="using-jquery-unobtrusive-ajax-in-asp.net-core-razor-pages">Using jQuery Unobtrusive AJAX in ASP.NET Core Razor Pages</h1>
<div itemprop="articleBody"><p>The jQuery Unobtrusive AJAX library has been around for almost 10 years, and was first introduced in ASP.NET MVC 3.0, just as adoption of HTML5 custom <code>data-*</code> attributes was becoming commonplace and supported widely across browsers. It is a small library, 4kb when minified, that makes use of jQuery's AJAX capabilities. It is now part of <a href="https://github.com/aspnet/jquery-ajax-unobtrusive">ASP.NET Core and is hosted at GitHub</a>.</p>
<p>Unobtrusive AJAX, like other unobtrusive libraries, works by examining selected HTML elements for the presence of specific custom <code>data-</code> attributes, and then attaching jQuery's AJAX functions to those elements when they are clicked. In essence, it saves much, if not all of the boilerplate code that you would otherwise have to write to fire an AJAX request and process the response.</p>
<p>You can obtain Unobtrusive AJAX from npm (npm i jquery-ajax-unobtrusive from the Package Manager Console in Visual Studio), or you can use one of the many ways that Visual Studio provides to install it from Nuget. Once you have it, you can create a new folder for it in <em>wwwroot/lib</em> and copy the file(s) there:</p>
<p><img src="../../../www.mikesdotnetting.com/images/12-09-2018-13-11-19.png" class="img-fluid" alt="Unobtrusive AJAX" /></p>
<p>Then you can reference it in the page that you want to use it in directly or as a fallback to a CDN-hosted version:</p>
<p><img src="../../../www.mikesdotnetting.com/images/12-09-2018-13-14-49.png" class="img-fluid" alt="Unobtrusive AJAX" /></p>
<h2 id="custom-attributes">Custom Attributes</h2>
<p>The following table details the custom attributes that control the behaviour of jQuery Unobtrusive AJAX:</p>
<table class="table">
<thead>
<tr>
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>data-ajax</code></td>
<td style="text-align: left;">Must be set to <code>true</code> to activate unobtrusive Ajax on the target element.</td>
</tr>
<tr>
<td style="text-align: left;"><code>data-ajax-confirm</code></td>
<td style="text-align: left;">Gets or sets the message to display in a confirmation window before a request is submitted.</td>
</tr>
<tr>
<td style="text-align: left;"><code>data-ajax-method</code></td>
<td style="text-align: left;">Gets or sets the HTTP request method (&quot;Get&quot; or &quot;Post&quot;).</td>
</tr>
<tr>
<td style="text-align: left;"><code>data-ajax-mode</code></td>
<td style="text-align: left;">Gets or sets the mode that specifies how to insert the response into the target DOM element. Valid values are <code>before</code>, <code>after</code> and <code>replace</code>. Default is <code>replace</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>data-ajax-loading-duration</code></td>
<td style="text-align: left;">Gets or sets a value, in milliseconds, that controls the duration of the animation when showing or hiding the loading element.</td>
</tr>
<tr>
<td style="text-align: left;"><code>data-ajax-loading</code></td>
<td style="text-align: left;">Gets or sets the id attribute of an HTML element that is displayed while the Ajax function is loading.</td>
</tr>
<tr>
<td style="text-align: left;"><code>data-ajax-begin</code></td>
<td style="text-align: left;">Gets or sets the name of the JavaScript function to call immediately before the page is updated.</td>
</tr>
<tr>
<td style="text-align: left;"><code>data-ajax-complete</code></td>
<td style="text-align: left;">Gets or sets the JavaScript function to call when response data has been instantiated but before the page is updated.</td>
</tr>
<tr>
<td style="text-align: left;"><code>data-ajax-failure</code></td>
<td style="text-align: left;">Gets or sets the JavaScript function to call if the page update fails.</td>
</tr>
<tr>
<td style="text-align: left;"><code>data-ajax-success</code></td>
<td style="text-align: left;">Gets or sets the JavaScript function to call after the page is successfully updated.</td>
</tr>
<tr>
<td style="text-align: left;"><code>data-ajax-update</code></td>
<td style="text-align: left;">Gets or sets the ID of the DOM element to update by using the response from the server.</td>
</tr>
<tr>
<td style="text-align: left;"><code>data-ajax-url</code></td>
<td style="text-align: left;">Gets or sets the URL to make the request to.</td>
</tr>
</tbody>
</table>
<p>The following example shows a form with the minimum attributes required to convert to an AJAX submission:</p>
<pre><code class="language-html">@page
@model IndexModel

&lt;form method=&quot;post&quot; data-ajax=&quot;true&quot; data-ajax-method=&quot;post&quot;&gt;
    Name: &lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;&lt;br&gt;
    &lt;input type=&quot;submit&quot;/&gt;
&lt;/form&gt;
</code></pre>
<p>There is no <code>action</code> specified, so the form values will be posted to the URL of the page where they can be processed in an <code>OnPost</code> handler. Note that the form's <code>method</code> attribute is specified as post, along with the custom <code>data-ajax-method</code> attribute.  In the absence of an <code>action</code> attribute being applied this is necessary to ensure that the <a href="../../security/request-verification.html">request verification token</a> hidden field is generated and included in the form. Without this, form posts will result in a <code>400 Bad Request</code> status code because they will fail the request verification test:</p>
<p><img src="../../../www.mikesdotnetting.com/images/13-09-2018-08-05-58.png" class="img-fluid" alt="Unobtrusive AJAX" /></p>
<p>The <code>data-ajax-confirm</code> attribute takes a string representing the message to display in a confirm prompt to users before the form is posted:</p>
<pre><code class="language-html">&lt;form method=&quot;post&quot; data-ajax=&quot;true&quot; data-ajax-method=&quot;post&quot; data-ajax-confirm=&quot;Are you sure?&quot;&gt;
    Name: &lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;&lt;br&gt;
    &lt;input type=&quot;submit&quot;/&gt;
&lt;/form&gt;
</code></pre>
<h2 id="callback-functions">Callback functions</h2>
<p>When an AJAX request is made using jQuery, a <a href="http://api.jquery.com/jQuery.ajax/#jqXHR">jqXHR</a> object is returned. This is made available to callback functions that you specify via the <code>data-ajax-complete</code>, <code>data-ajax-success</code> and <code>data-ajax-failure</code> attributes.</p>
<p>The next example shows how to access the <code>jqXHR</code> object via a parameter to the callback function:</p>
<pre><code class="language-html">@page
@model IndexModel

&lt;form method=&quot;post&quot; data-ajax=&quot;true&quot; data-ajax-method=&quot;post&quot; data-ajax-complete=&quot;completed&quot;&gt;
    Name: &lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;&lt;br&gt;
    &lt;input type=&quot;submit&quot;/&gt;
&lt;/form&gt;

@section scripts{ 
    &lt;script src=&quot;~/lib/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.min.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
        completed = function (xhr) {
            alert(`Hi ${xhr.responseText}!`);
        };
    &lt;/script&gt;
}
</code></pre>
<p>The PageModel includes a bound property representing the name that is posted and returns it back as a response:</p>
<pre><code class="language-csharp">public class IndexModel : PageModel
{
    [BindProperty]
    public string Name { get; set; }

    public IActionResult OnPost()
    {
        return Content(Name);
    }
}
</code></pre>
<p>When the AJAX post completes (successfully or otherwise), the <code>completed</code> function is called with the <code>jqXHR</code> object as a parameter. The response body is available in the <code>responseText</code> property.</p>
<p>The next example shows how to catch errors using the <code>data-ajax-failure</code> attribute:</p>
<pre><code class="language-html">@page
@model IndexModel

&lt;form method=&quot;post&quot; data-ajax=&quot;true&quot; data-ajax-url=&quot;/notfound&quot; data-ajax-method=&quot;post&quot; data-ajax-failure=&quot;failed&quot;&gt;
    Name: &lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;&lt;br&gt;
    &lt;input type=&quot;submit&quot;/&gt;
&lt;/form&gt;

@section scripts{ 
    &lt;script src=&quot;~/lib/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.min.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
        failed = function (xhr) {
            alert(`Status: {xhr.status}, Status Text: {xhr.statusText}`);
        };
    &lt;/script&gt;
}
</code></pre>
<p>In this case, the post results in a 404 not found error, details of which are displayed in a browser alert:</p>
<p><img src="../../images/2018-09-14_19-35-02.png" class="img-fluid" alt="Unobtrusive AJAX" /></p>
<h2 id="partial-updates">Partial Updates</h2>
<p>The <code>data-ajax-update</code> attribute is used to specify the DOM element that should be updated with the response. The value passed to it is a standard CSS selector. If multiple elements match the selector, the first matching element will be updated.</p>
<p>In this example, the attribute is attached to an anchor element. The click will be intercepted by jQuery and managed asynchronously:</p>
<pre><code class="language-html">@page
@model IndexModel

&lt;a href=&quot;&quot; data-ajax=&quot;true&quot; data-ajax-url=&quot;/index/partial&quot; data-ajax-update=&quot;#panel&quot;&gt;Click here&lt;/a&gt;

&lt;div id=&quot;panel&quot;&gt;&lt;/div&gt;
</code></pre>
<p>The URL is a named handler method in the Index PageModel:</p>
<pre><code class="language-csharp">public class IndexModel : PageModel
{
    public IActionResult OnGetPartial()
    {
        return new PartialViewResult { 
            ViewName = &quot;_HelloWorldPartial&quot;, 
            ViewData = this.ViewData 
        };
    }
}
</code></pre>
<p>The content of _<em>HelloWorldPartial.cshtml</em> is just one line:</p>
<pre><code class="language-html">&lt;p&gt;@ViewData[&quot;Message&quot;] from the Hello World partial at @DateTime.Now&lt;/p&gt;
</code></pre>
<p>When the link is clicked, the content is placed in the div with the id of <code>panel</code>:</p>
<p><img src="../../images/2018-09-14_20-56-56.png" class="img-fluid" alt="Unobtrusive AJAX" /></p>
<p>If you click the link again, the existing content will be replaced with the new response. That is the default behaviour when the <code>data-ajax-mode</code> is not specified. If you want to insert the new content so that it appears before the existing content, set the <code>data-ajax-mode</code> value to <code>before</code>:</p>
<pre><code class="language-html">&lt;a href=&quot;&quot; data-ajax=&quot;true&quot; data-ajax-url=&quot;/index/partial&quot; data-ajax-update=&quot;#panel&quot; data-ajax-mode=&quot;before&quot;&gt;Click here&lt;/a&gt;
</code></pre>
<p>Now the response generated from subsequent clicks appears above the existing content:</p>
<p><img src="../../images/2018-09-14_21-02-48.png" class="img-fluid" alt="Unobtrusive AJAX" /></p>
<p>Setting the data-ajax-mode attribute to <code>after</code> will result in the response being appended to any existing content.</p>
<h2 id="displaying-a-loading-gif">Displaying a Loading GIF</h2>
<p>Sometimes, as a courtesy to users to let them know that something is happening when an asynchronous operation takes a while to complete, an indication of progress is displayed. This usually takes the form of an animated gif image, or an animated font. The <code>data-ajax-loading</code> attribute specifies the element that should be displayed while the AJAX operation is taking place. The <code>data-ajax-loading-duration</code> attribute takes a value in milliseconds. This is used to determine how long it takes to make the loading element visible and then to hide it. The loading element slides down and to the right when becoming visible.  If no value is specified, the default is 400.</p>
<p>In this example, a spinner from the <a href="https://fontawesome.com/">FontAwesome font collection</a> (<i class="fas fa-spinner fa-spin"></i>) is used to show progress.  It has its <code>display</code> property set to <code>none</code> initially. jQuery will remove that setting before the request is sent, and then reapply it once it has completed (regardless of success).</p>
<pre><code class="language-html">&lt;a href=&quot;&quot; data-ajax=&quot;true&quot; data-ajax-url=&quot;/index/partial&quot; data-ajax-update=&quot;#panel&quot; data-ajax-loading=&quot;#spinner&quot;&gt;Click here&lt;/a&gt;
&lt;span id=&quot;spinner&quot; style=&quot;display:none;&quot;&gt;&lt;i class=&quot;fas fa-spinner fa-spin&quot;&gt;&lt;/i&gt;&lt;/span&gt;
&lt;div id=&quot;panel&quot;&gt;&lt;/div&gt;
</code></pre>
<p>In order to simulate a long running operation, the handler method is altered to include a call to <code>Thread.Sleep</code>:</p>
<pre><code class="language-csharp">public IActionResult OnGetPartial()
{
    Thread.Sleep(2000);
    return new PartialViewResult
    {
        ViewName = &quot;_HelloWorldPartial&quot;,


        ViewData = this.ViewData
    };
}
</code></pre>
<p>This ensures that the animation will be visible for at least 2 seconds:</p>
<p><img src="../../images/2018-09-16_11-47-45.png" class="img-fluid" alt="Unobtrusive AJAX" /></p>

</div>
</div>
<section id="file-meta">
    <span class="file-meta-label">Last updated:</span> <span itemprop="dateModified">19/09/2018 08:46:11</span><br />
</section>

                </div>
                <div class="col-md-3 right-col">
                    
                            <script>
                        (function() {
                            var cx = 'partner-pub-8046723421340367:6108194070';
                            var gcse = document.createElement('script');
                            gcse.type = 'text/javascript';
                            gcse.async = true;
                            gcse.src = '../../../cse.google.com/cse07b6.html?cx=' + cx;
                            var s = document.getElementsByTagName('script')[0];
                            s.parentNode.insertBefore(gcse, s);
                        })();
                            </script>
                        <gcse:searchbox-only></gcse:searchbox-only>
                    
                    <div id="doc-outline" class="doc-outline well">
                            <h3 class="doc-outline">On this page</h3>
                            <nav class="doc-outline">
                                <ul>
                                        <li><a itemprop="url" href="#using-jquery-unobtrusive-ajax-in-asp.net-core-razor-pages" class="page-scroll">Using jQuery Unobtrusive AJAX in ASP.NET Core Razor Pages</a></li>
                                        <li><a itemprop="url" href="#custom-attributes" class="page-scroll">Custom Attributes</a></li>
                                        <li><a itemprop="url" href="#callback-functions" class="page-scroll">Callback functions</a></li>
                                        <li><a itemprop="url" href="#partial-updates" class="page-scroll">Partial Updates</a></li>
                                        <li><a itemprop="url" href="#displaying-a-loading-gif" class="page-scroll">Displaying a Loading GIF</a></li>
                                </ul>
                            </nav>

                    </div>
                    <div class="rectangle">
                        
                                <script async src="../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Rectangle -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:250px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="7622896857"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <div class="doc-outline well">
                        <h3 class="doc-outline">Latest Updates</h3>
                        <nav class="doc-outline">
                            <ul>
                                    <li><a itemprop="url" href="../tutorial/bakery/migration.html">Creating A Migration</a></li>
                                    <li><a itemprop="url" href="../tutorial/bakery/create-model.html">Working With A Model</a></li>
                                    <li><a itemprop="url" href="../routing.html">Routing in Razor Pages</a></li>
                                    <li><a itemprop="url" href="../tutorial/bakery/working-with-data.html">Working With Data</a></li>
                                    <li><a itemprop="url" href="../tutorial/bakery/new-page.html">Adding a New Page</a></li>
                                    <li><a itemprop="url" href="../tutorial/bakery.html">Creating an Application</a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="skyscraper">
                        
                                <script async src="../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Skyscraper -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:600px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="4239197376"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <footer>
                        <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
                    </footer>
                </div>
            </div>
        </div>
        <a href="#page-top" id="back-to-top" class="page-scroll" title="Back to top"><i class="fas fa-arrow-alt-circle-up"></i></a>
    </div>
    <div class="cookie-box" id="cookie-warning">
        <div class="cookie-box-contents" id="learnrazorpages">This site uses cookies to analyse traffic, remember your preferences, and optimise your experience.</div>
        <div class="cookie-box-buttons"><a href="../../privacy.html" class="cookie-button">Learn more</a><a href="#" class="cookie-button" id="cookie-close">Close</a></div>
    </div>
    <script src="../../../ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"></script>
    <script src="../../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.min.js"></script>
    <script src="../../../code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    
    <script src="../../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script src="../../js/site59f2.js?v=gJZRD7PDF8oEm1Xb0uhLZcpf7Vs12fGO-q0DErBSF_Y"></script>
    
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1264020-21"></script>
        <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-1264020-21');
        </script>
    
    
</body>

<!-- Mirrored from www.learnrazorpages.com/razor-pages/ajax/unobtrusive-ajax by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:18:02 GMT -->
</html>
