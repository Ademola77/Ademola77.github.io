<!DOCTYPE html>
<html>

<!-- Mirrored from www.learnrazorpages.com/razor-pages/tutorial/bakery/forms by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:24:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="google-site-verification" content="MpV6gEoCh9OASgnoi656klwnlkni3_qOenITGlxBrjc" />
    <title>Working With Forms | Learn Razor Pages</title>
    <link rel="canonical" href="forms.html" />
    <link rel="stylesheet" href="../../../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i|Roboto:300i,500,700" />
    <link rel="stylesheet" href="../../../../use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="../../../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <link rel="stylesheet" href="../../../css/site8249.css?v=PCA7f9VuZUscxMwrePJfyFKXCF9mh2dMpXEDQU8oP3o" />
    <link rel="stylesheet" href="../../../css/rp14c5.css?v=ZxkVB0StHjR5-UMElJII7nwWe6Wmc6_qgJ97GsY4yNw" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script async src="../../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({
                google_ad_client: "ca-pub-8046723421340367",
                enable_page_level_ads: true
            });
        </script>
</head>
<body id="page-top">
    <div class="navbar navbar-default navbar-static-top">
        <div>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <div class="navbar-brand">
                    <i class="fas fa-graduation-cap"></i> <a href="../../../index.html">Learn Razor Pages</a>
                    <br />
                    <span class="byline">Your guide to using ASP.NET Core Razor Pages</span>
                </div>
                <div class="banner">
                    
                        <script async src="../../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                        <!-- EF Core Leaderboard -->
                        <ins class="adsbygoogle"
                             style="display:inline-block;width:728px;height:90px"
                             data-ad-client="ca-pub-8046723421340367"
                             data-ad-slot="1832525889"></ins>
                        <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>                    
                </div>
            </div>

        </div>
    </div>
    <div class="navbar-default sidebar" role="navigation">
        <div class="sidebar-nav navbar-collapse">
            <nav class="main-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <ul class="nav nav-level-one" id="side-menu">
        <li>
            <a itemprop="url" href="../../../index.html">Home</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../../first-look.html">A First Look</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../asp-net-core.html">ASP.NET Core</a>
        </li>
        <li><a itemprop="url" href="../bakery.html">Tutorials</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../bakery.html">The Bakery</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../razor-pages.html">Razor Page Files</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../files/index.html">Razor Files</a></li>
                <li><a itemprop="url" href="../../partial-pages.html">Partial Pages</a></li>
                <li><a itemprop="url" href="../../files/layout.html">Layout Files</a></li>
                <li><a itemprop="url" href="../../files/viewimports.html">ViewImports File</a></li>
                <li><a itemprop="url" href="../../files/viewstart.html">ViewStart File</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../razor-syntax.html">Razor Syntax</a>
        </li>
        <li>
            <a itemprop="url" href="../../pagemodel.html">Page Models</a>
            <ul class="nav-level-two">
                <li>
                    <a itemprop="url" href="../../handler-methods.html">Handler Methods</a>
                </li>
                <li>
                    <a itemprop="url" href="../../viewdata.html">ViewData</a>
                </li>
                <li>
                    <a itemprop="url" href="../../action-results.html">Action Results</a>
                </li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../tag-helpers/index.html">Tag Helpers</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../tag-helpers/anchor-tag-helper.html">Anchor Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/cache-tag-helper.html">Cache Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/distributed-cache-tag-helper.html">Distributed Cache Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/environment-tag-helper.html">Environment Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/form-action-tag-helper.html">Form Action Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/form-tag-helper.html">Form Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/image-tag-helper.html">Image Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/input-tag-helper.html">Input Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/label-tag-helper.html">Label Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/link-tag-helper.html">Link Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/option-tag-helper.html">Option Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/partial-tag-helper.html">Partial Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/script-tag-helper.html">Script Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/select-tag-helper.html">Select Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/textarea-tag-helper.html">TextArea Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/validation-message-tag-helper.html">Validation Message Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/validation-summary-tag-helper.html">Validation Summary Tag Helper</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../view-components.html">View Components</a>
        </li>
        <li>
            <a itemprop="url" href="../../routing.html">Routing and URLs</a>
            <ul class="nav-level-two">
                <li><a href="../../../advanced/custom-route-conventions.html">Customising Route Conventions</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../startup.html">Startup</a>
        </li>
        <li>
            <a itemprop="url" href="../../../configuration.html">Configuration</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../../configuration/global-error-handling.html">Global Error Handling And Logging</a></li>
                <li><a itemprop="url" href="../../../configuration/custom-errors.html">Custom Error Pages</a></li>
                <li><a itemprop="url" href="../../../configuration/https.html">Configuring HTTPS</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../middleware.html">Middleware</a>
        </li>
        <li>
            <a itemprop="url" href="../../forms.html">Working With Forms</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../forms/file-upload.html">Uploading Files in Razor Pages</a></li>
                <li><a itemprop="url" href="../../forms/checkboxes.html">Working With Checkboxes</a></li>
                <li><a itemprop="url" href="../../forms/select-lists.html">Select Lists in a Razor Pages Form</a></li>
                <li><a itemprop="url" href="../../forms/radios.html">Working With Radio Buttons</a></li>
                <li><a itemprop="url" href="../../../security/request-verification.html">Request Verification</a></li>
            </ul>
        </li>
        <li><a itemprop="url" href="../../validation.html">Validation</a></li>
        <li>
            <a itemprop="url" href="../../model-binding.html">Model Binding</a>
        </li>
        <li>
            <a itemprop="url" href="../../state-management.html">State Management</a>
        </li>
        <li>
            <a itemprop="url" href="../../caching.html">Caching</a>
        </li>
        <li>
            <a itemprop="url" href="../../../identity.html">Managing Security With ASP.NET Identity</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../../identity/customising-identity.html">Customising Identity</a></li>
            </ul>
        </li>
        <li>
		<a itemprop="url" href="../../ajax.html">Using AJAX</a>
		<ul class="nav-level-two">
			<li><a itemprop="url" href="../../ajax/form-post.html">Posting Forms</a>    </li>
			<li><a itemprop="url" href="../../ajax/partial-update.html">Partial Page Updates</a></li>
			<li><a itemprop="url" href="../../ajax/upload-files.html">Uploading Files</a></li>
			<li><a itemprop="url" href="../../ajax/unobtrusive-ajax.html">Unobtrusive AJAX</a></li>
		</ul>
	</li>
        <li>
            <a itemprop="url" href="../../../web-api.html">Working with JSON</a>
        </li>
        <li>
            <a itemprop="url" href="../../../miscellaneous/scaffolding.html">Scaffolding</a>
        </li>
        <li>
            <a itemprop="url" href="../../../publishing/publish-to-iis.html">Publishing To IIS</a>
        </li>
        <li>
            <a itemprop="url" href="../../../advanced.html">Advanced</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../../advanced/areas.html">Areas</a></li>
                <li><a itemprop="url" href="../../../advanced/custom-tag-helpers.html">Custom Tag Helpers</a></li>
                <li><a itemprop="url" href="../../../advanced/custom-route-conventions.html">Customising Route Conventions</a></li>
                <li><a itemprop="url" href="../../../advanced/custom-constraints.html">Custom Route Constraints</a></li>
                <li><a itemprop="url" href="../../../advanced/route-parameter-transformers.html">Parameter Transformers For Routes</a></li>
                <li><a itemprop="url" href="../../../advanced/dependency-injection.html">Dependency Injection</a></li>
                <li><a itemprop="url" href="../../filters.html">Filters</a></li>
                <li><a itemprop="url" href="../../../advanced/razor-class-library.html">Razor Class Libraries</a></li>
                <li><a itemprop="url" href="../../../advanced/render-partial-to-string.html">Rendering A Partial View To A String</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../table-of-contents.html">Table Of Contents</a>
        </li>
    </ul>
</nav>

            <footer>
                <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
            </footer>
        </div>
        <!-- /.sidebar-collapse -->
    </div>

    <div id="page-wrapper">
        <div class="body-content">
            <div class="row">
                <div class="col-md-9">
                    
<div id="article">
    <h1 itemprop="headline" id="working-with-forms">Working With Forms</h1>
<div itemprop="articleBody"><p>Any successful e-commerce site needs to be able to fulfil orders. It's difficult to do this if you don't have the contact details and shipping address of the customer. The way that sites collect this type of information is in a form.</p>
<p>In this section, you will add a form to the Order page. You will also add validation to the form to ensure that the information you collect is valid and complete.</p>
<h2 id="preparation">Preparation</h2>
<p>To being with, add the following style declarations to the <em>site.css</em> file found in <em>wwwroot/css</em>:</p>
<pre><code class="language-css">label[for=&quot;OrderQuantity&quot;]{
  padding-left: 15px;
}

#OrderQuantity{
  margin: 0 15px;
  max-width: 100px;
}

.order-calc{
  display: inline-block;
  margin: 0 10px;
}

.input-validation-error, .input-validation-error:focus {
  background: #ffccba;
  color: #d63301;
}

.form-control.input-validation-error:focus{
  border-color: #d63301;
  box-shadow: 0 0 0 0.2rem rgba(255, 123, 123, 0.5);
}
      
.field-validation-error {
  color: #be3e16;
}

.validation-summary-errors {
  color: #be3e16;
}
</code></pre>
<p>The first three styles are purely cosmetic. The last four of these styles will help to identify the location of field validation errors easily. Now, add the highlighted lines below to <em>Order.cshtml.cs</em>:</p>
<pre><code class="language-csharp" data-lines="2,20-25">using System;
using System.ComponentModel.DataAnnotations;
using System.Threading.Tasks;
using Bakery.Data;
using Bakery.Models;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Mvc.RazorPages;

namespace Bakery.Pages
{
    public class OrderModel : PageModel
    {
        private BakeryContext db;

        public OrderModel(BakeryContext db) =&gt; this.db = db;

        [BindProperty(SupportsGet =true)]
        public int Id { get; set; }
        public Product Product { get; set;}
        [BindProperty, EmailAddress, Required, Display(Name=&quot;Your Email Address&quot;)]
        public string OrderEmail { get; set; }
        [BindProperty, Required(ErrorMessage=&quot;Please supply a shipping address&quot;), Display(Name=&quot;Shipping Address&quot;)]
        public string OrderShipping { get; set; } 
        [BindProperty, Display(Name=&quot;Quantity&quot;)]
        public int OrderQuantity { get; set; } = 1;

        public async Task OnGetAsync() =&gt; Product = await db.Products.FindAsync(Id);
    }
}
</code></pre>
<p>The additional <code>using</code> directive brings the <code>DataAnnotations</code> namespace into play. This namespace includes a number of attributes, some of which are used to decorate the properties that have been added to the PageModel. The <code>OrderEmail</code> property has DataAnnotation attributes applied (along with the <code>BindProperty</code> attribute):</p>
<ul>
<li><code>EmailAddress</code> - which validates whether a string matches the pattern of an email address</li>
<li><code>Required</code> - which specifies that a value is required</li>
<li><code>Display</code> - enables you to customise the value used in the UI for the property</li>
</ul>
<p>Two of these attributes play a role in validation, as you will see later. The <code>OrderQuantity</code> property is assigned a default value of <code>1</code>.</p>
<h2 id="adding-the-form">Adding The Form</h2>
<p>Add the following lines to the bottom of <em>Order.cshtml</em>:</p>
<pre><code class="language-html">&lt;form method=&quot;post&quot;&gt;
    &lt;div class=&quot;row&quot;&gt;
        &lt;div class=&quot;col-3&quot;&gt;
            &lt;img src=&quot;~/Images/Products/Thumbnails/@Model.Product.ImageName&quot; class=&quot;img-fluid img-thumbnail&quot; alt=&quot;Image of @Model.Product.Name&quot;/&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-9&quot;&gt;
            &lt;ul class=&quot;orderPageList&quot; data-role=&quot;listview&quot;&gt;
                &lt;li&gt;
                    &lt;div&gt;
                        &lt;p class=&quot;description&quot;&gt;@Model.Product.Description&lt;/p&gt;
                    &lt;/div&gt;                
                &lt;/li&gt;
                &lt;li class=&quot;email&quot;&gt;
                    &lt;div class=&quot;form-group&quot;&gt;
                        &lt;label asp-for=&quot;OrderEmail&quot;&gt;&lt;/label&gt;
                        &lt;input asp-for=&quot;OrderEmail&quot; class=&quot;form-control form-control-sm&quot; /&gt;                
                        &lt;span asp-validation-for=&quot;OrderEmail&quot;&gt;&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/li&gt;
                &lt;li class=&quot;shipping&quot;&gt;
                    &lt;div class=&quot;form-group&quot;&gt;
                        &lt;label asp-for=&quot;OrderShipping&quot;&gt;&lt;/label&gt;
                        &lt;textarea rows=&quot;4&quot; asp-for=&quot;OrderShipping&quot; class=&quot;form-control form-control-sm&quot;&gt;&lt;/textarea&gt;               
                        &lt;span asp-validation-for=&quot;OrderShipping&quot;&gt;&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/li&gt;
                &lt;li class=&quot;quantity&quot;&gt;
                    &lt;div class=&quot;form-group row&quot;&gt;
                        &lt;label asp-for=&quot;OrderQuantity&quot; class=&quot;col-1 col-form-label&quot;&gt;&lt;/label&gt;
                        &lt;input asp-for=&quot;OrderQuantity&quot; class=&quot;form-control form-control-sm&quot;/&gt;
                        x
                        &lt;span class=&quot;order-calc&quot; id=&quot;orderPrice&quot;&gt;@Model.Product.Price.ToString(&quot;f&quot;)&lt;/span&gt;
                        =
                        &lt;span class=&quot;order-calc&quot; id=&quot;orderTotal&quot;&gt;@Model.Product.Price.ToString(&quot;f&quot;)&lt;/span&gt;
                        &lt;span asp-validation-for=&quot;OrderQuantity&quot;&gt;&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
            &lt;p class=&quot;actions&quot;&gt;
                &lt;input type=&quot;hidden&quot; asp-for=&quot;Product.Id&quot; /&gt;
                &lt;button class=&quot;btn btn-danger order-button&quot;&gt;Place Order&lt;/button&gt;
            &lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/form&gt;


@section scripts{
&lt;script type=&quot;text/javascript&quot;&gt;
    $(function () {
        var price = parseFloat($(&quot;#orderPrice&quot;).text()).toFixed(2),
            total = $(&quot;#orderTotal&quot;),
            orderQty = $(&quot;#OrderQuantity&quot;);

        orderQty.on('change', function () {
            var quantity = parseInt(orderQty.val());
            if (!quantity || quantity &lt; 1) {
                orderQty.val(1);
                quantity = 1;
            } else if (quantity.toString() !== orderQty.val()) {
                orderQty.val(quantity);
            }
            total.text(&quot;$&quot; + (price * quantity).toFixed(2));
        });
    });
&lt;/script&gt;
}
</code></pre>
<p>The form makes use of tag helpers to render the labels, inputs and the validation messages. The <a href="../../tag-helpers/input-tag-helper.html">tag helpers that target input elements</a> are particularly powerful.  PageModel properties are passed to the <code>asp-for</code> attributes on the input tag helpers. The input tag helpers then render the correct <code>name</code> attribute based on the property, so that model binding works seamlessly. Any values assigned to the properties are assigned to the input. The input's <code>type</code> attribute is generated according to the data type of the property.</p>
<p>The form itself will also be targeted by a tag helper, which will ensure that a <a href="../../../security/request-verification.html">request verification token</a> is rendered.</p>
<p>The code ends with a block of JavaScript that calculates the total price based on the quantity of items being ordered. The <code>&lt;script&gt;</code> tags are placed in an <code>@section</code> block named <code>scripts</code>, which is positioned carefully in the layout page to render its contents below other site-wide scripts, including jQuery, which this script block depends upon.</p>
<p>Next, you need a handler method for processing the form. Add the following to the <em>Order.cshtml.cs</em> file:</p>
<pre><code class="language-csharp">public async Task&lt;IActionResult&gt; OnPostAsync()
{
    Product = await db.Products.FindAsync(Id);
    if(ModelState.IsValid){
        return RedirectToPage(&quot;OrderSuccess&quot;);
    }
    return Page();
}
</code></pre>
<p>For the moment, all that this method does is to check that <code>ModelState.IsValid</code>. This ensures that the model binding feature is satisfied that all submitted values pass validation checks, and that all required values are present. If there are any errors in validation, entries are added to the <code>ModelState</code>object and the current page is redisplayed (<code>return Page()</code>). If the submission is valid, the user is redirected to an <em>OrderSuccess</em> page, which you will add next.</p>
<div class="alert alert-info"><p>This pattern is known as <a href="https://en.wikipedia.org/wiki/Post/Redirect/Get">Post-Redirect-Get</a> (PRG) and is designed to minimise the chance of duplicate submissions resulting from double posting.</p>
</div>
<p>If there are errors in the form, the page is displayed again and the validation tag helpers will display details of the validation errors.</p>
<p>Now add the <em>OrderSuccess</em> page to the application using the following command:</p>
<pre><code class="language-cmd">dotnet new page --name OrderSuccess --output Pages --namespace Bakery.Pages
</code></pre>
<p>Replace the content of the <em>OrderSuccess.cshtml</em> file with the following:</p>
<pre><code class="language-html">@page
@model Bakery.Pages.OrderSuccessModel
@{
}
&lt;ol id=&quot;orderProcess&quot;&gt;
    &lt;li&gt;&lt;span class=&quot;step-number&quot;&gt;1&lt;/span&gt;Choose Item&lt;/li&gt;
    &lt;li&gt;&lt;span class=&quot;step-number&quot;&gt;2&lt;/span&gt;Details &amp;amp; Submit&lt;/li&gt;
    &lt;li class=&quot;current&quot;&gt;&lt;span class=&quot;step-number&quot;&gt;3&lt;/span&gt;Receipt&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;Order Confirmation&lt;/h1&gt;
</code></pre>
<p>Now it's time to test that the form works and is processed correctly. Launch the application by typing <code>dotnet run</code>, and then navigate to <code>https://localhost:5001</code>. Select the Lemon Tart product, and ensure that the form has displayed correctly:</p>
<p><img src="../../../images/2018-12-03_21-02-13.png" class="img-fluid" alt="Lemon Tart" /></p>
<p>Now press the <strong>Place Order</strong> button <em>without entering an email or shipping address</em>, so that you can test the validation. Both fields should turn pink and the error message should appear below them:</p>
<p><img src="../../../images/2018-12-03_21-10-31.png" class="img-fluid" alt="Razor Pages Form Validation" /></p>
<p>You can perform further tests such as removing the value in the Quantity box, or entering a random string into the email input. Each time, the error messages should appear once you have submitted the form.</p>
<h2 id="adding-client-side-validation">Adding Client Side Validation</h2>
<p>At the moment, all the validation is performed on the server. The form is posted, and the entire page is re-rendered to provide feedback to the user. The round trip is not really noticeable to you while developing the site, because the client and the server are on the same machine. However, in a real world application, there could be some delay before the user receives any feedback. Validating on the client will provide the user with instant feedback.</p>
<div class="alert alert-danger"><p>Validating on the client should be seen as a courtesy to the user only. It should never replace server-side validation. It is very easy for anyone with a small amount of HTML/JavaScript knowledge to circumvent client-side validation.</p>
</div>
<p><a href="../../validation.html">Client side validation</a> is included by default in Razor Pages, but it needs to be enabled. You do that by including the jQuery Validation and  jQuery Unobtrusive Validation libraries in your page. The code for including these scripts is already available in a partial named _<em>ValidationScriptsPartial.cshtml</em> which is located in the <em>Pages/Shared</em> folder. To include it, just add the partial tag helper to the scripts section in <em>Order.cshtml</em> as illustrated in the highlighted line of code below:</p>
<pre><code class="language-html" data-lines="2">@section scripts{
&lt;partial name=&quot;_ValidationScriptsPartial&quot;&gt;&lt;/partial&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    $(function () {
        var price = parseFloat($(&quot;#orderPrice&quot;).text()).toFixed(2),
            total = $(&quot;#orderTotal&quot;),
            orderQty = $(&quot;#OrderQuantity&quot;);

        orderQty.on('change', function () {
            var quantity = parseInt(orderQty.val());
            if (!quantity || quantity &lt; 1) {
                orderQty.val(1);
                quantity = 1;
            } else if (quantity.toString() !== orderQty.val()) {
                orderQty.val(quantity);
            }
            total.text(&quot;$&quot; + (price * quantity).toFixed(2));
        });
    });
&lt;/script&gt;
}
</code></pre>
<p>Now if you try submitting the form with missing values, the errors appear without the form actually being posted to the server. And if you provide values that satisfy the validation, you should get taken to the <em>OrderSuccess</em> page:</p>
<p><img src="../../../images/04-12-2018-08-40-05.png" class="img-fluid" alt="Razor Pages Bakery" /></p>
<h3 id="summary">Summary</h3>
<p>In this section, you have created a form using tag helpers and added both server-side and client-side validation. You have tested the form successfully. So far, you haven't done anything meaningful with the posted values. You will do so in the next section, when you will use the posted values to construct an email and send it.</p>
<div class="pull-right"><p>Next: <a href="email.html">Adding Email</a></p>
</div>
<div class="pull-left"><p>Previous: <a href="working-with-data.html">Working With Data</a></p>
</div>

</div>
</div>
<section id="file-meta">
    <span class="file-meta-label">Last updated:</span> <span itemprop="dateModified">07/12/2018 07:40:29</span><br />
</section>

                </div>
                <div class="col-md-3 right-col">
                    
                            <script>
                        (function() {
                            var cx = 'partner-pub-8046723421340367:6108194070';
                            var gcse = document.createElement('script');
                            gcse.type = 'text/javascript';
                            gcse.async = true;
                            gcse.src = '../../../../cse.google.com/cse07b6.html?cx=' + cx;
                            var s = document.getElementsByTagName('script')[0];
                            s.parentNode.insertBefore(gcse, s);
                        })();
                            </script>
                        <gcse:searchbox-only></gcse:searchbox-only>
                    
                    <div id="doc-outline" class="doc-outline well">
                            <h3 class="doc-outline">On this page</h3>
                            <nav class="doc-outline">
                                <ul>
                                        <li><a itemprop="url" href="#working-with-forms" class="page-scroll">Working With Forms</a></li>
                                        <li><a itemprop="url" href="#preparation" class="page-scroll">Preparation</a></li>
                                        <li><a itemprop="url" href="#adding-the-form" class="page-scroll">Adding The Form</a></li>
                                        <li><a itemprop="url" href="#adding-client-side-validation" class="page-scroll">Adding Client Side Validation</a></li>
                                        <li><a itemprop="url" href="#summary" class="page-scroll">Summary</a></li>
                                </ul>
                            </nav>

                    </div>
                    <div class="rectangle">
                        
                                <script async src="../../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Rectangle -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:250px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="7622896857"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <div class="doc-outline well">
                        <h3 class="doc-outline">Latest Updates</h3>
                        <nav class="doc-outline">
                            <ul>
                                    <li><a itemprop="url" href="migration.html">Creating A Migration</a></li>
                                    <li><a itemprop="url" href="create-model.html">Working With A Model</a></li>
                                    <li><a itemprop="url" href="../../routing.html">Routing in Razor Pages</a></li>
                                    <li><a itemprop="url" href="working-with-data.html">Working With Data</a></li>
                                    <li><a itemprop="url" href="new-page.html">Adding a New Page</a></li>
                                    <li><a itemprop="url" href="../bakery.html">Creating an Application</a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="skyscraper">
                        
                                <script async src="../../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Skyscraper -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:600px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="4239197376"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <footer>
                        <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
                    </footer>
                </div>
            </div>
        </div>
        <a href="#page-top" id="back-to-top" class="page-scroll" title="Back to top"><i class="fas fa-arrow-alt-circle-up"></i></a>
    </div>
    <div class="cookie-box" id="cookie-warning">
        <div class="cookie-box-contents" id="learnrazorpages">This site uses cookies to analyse traffic, remember your preferences, and optimise your experience.</div>
        <div class="cookie-box-buttons"><a href="../../../privacy.html" class="cookie-button">Learn more</a><a href="#" class="cookie-button" id="cookie-close">Close</a></div>
    </div>
    <script src="../../../../ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"></script>
    <script src="../../../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.min.js"></script>
    <script src="../../../../code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    
    <script src="../../../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script src="../../../js/site59f2.js?v=gJZRD7PDF8oEm1Xb0uhLZcpf7Vs12fGO-q0DErBSF_Y"></script>
    
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1264020-21"></script>
        <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-1264020-21');
        </script>
    
    
</body>

<!-- Mirrored from www.learnrazorpages.com/razor-pages/tutorial/bakery/forms by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:24:01 GMT -->
</html>
