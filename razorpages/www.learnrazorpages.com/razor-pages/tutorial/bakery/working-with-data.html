<!DOCTYPE html>
<html>

<!-- Mirrored from www.learnrazorpages.com/razor-pages/tutorial/bakery/working-with-data by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:23:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="google-site-verification" content="MpV6gEoCh9OASgnoi656klwnlkni3_qOenITGlxBrjc" />
    <title>Working With Data | Learn Razor Pages</title>
    <link rel="canonical" href="working-with-data.html" />
    <link rel="stylesheet" href="../../../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i|Roboto:300i,500,700" />
    <link rel="stylesheet" href="../../../../use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="../../../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <link rel="stylesheet" href="../../../css/site8249.css?v=PCA7f9VuZUscxMwrePJfyFKXCF9mh2dMpXEDQU8oP3o" />
    <link rel="stylesheet" href="../../../css/rp14c5.css?v=ZxkVB0StHjR5-UMElJII7nwWe6Wmc6_qgJ97GsY4yNw" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script async src="../../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({
                google_ad_client: "ca-pub-8046723421340367",
                enable_page_level_ads: true
            });
        </script>
</head>
<body id="page-top">
    <div class="navbar navbar-default navbar-static-top">
        <div>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <div class="navbar-brand">
                    <i class="fas fa-graduation-cap"></i> <a href="../../../index.html">Learn Razor Pages</a>
                    <br />
                    <span class="byline">Your guide to using ASP.NET Core Razor Pages</span>
                </div>
                <div class="banner">
                    
                        <script async src="../../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                        <!-- EF Core Leaderboard -->
                        <ins class="adsbygoogle"
                             style="display:inline-block;width:728px;height:90px"
                             data-ad-client="ca-pub-8046723421340367"
                             data-ad-slot="1832525889"></ins>
                        <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>                    
                </div>
            </div>

        </div>
    </div>
    <div class="navbar-default sidebar" role="navigation">
        <div class="sidebar-nav navbar-collapse">
            <nav class="main-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <ul class="nav nav-level-one" id="side-menu">
        <li>
            <a itemprop="url" href="../../../index.html">Home</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../../first-look.html">A First Look</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../asp-net-core.html">ASP.NET Core</a>
        </li>
        <li><a itemprop="url" href="../bakery.html">Tutorials</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../bakery.html">The Bakery</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../razor-pages.html">Razor Page Files</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../files/index.html">Razor Files</a></li>
                <li><a itemprop="url" href="../../partial-pages.html">Partial Pages</a></li>
                <li><a itemprop="url" href="../../files/layout.html">Layout Files</a></li>
                <li><a itemprop="url" href="../../files/viewimports.html">ViewImports File</a></li>
                <li><a itemprop="url" href="../../files/viewstart.html">ViewStart File</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../razor-syntax.html">Razor Syntax</a>
        </li>
        <li>
            <a itemprop="url" href="../../pagemodel.html">Page Models</a>
            <ul class="nav-level-two">
                <li>
                    <a itemprop="url" href="../../handler-methods.html">Handler Methods</a>
                </li>
                <li>
                    <a itemprop="url" href="../../viewdata.html">ViewData</a>
                </li>
                <li>
                    <a itemprop="url" href="../../action-results.html">Action Results</a>
                </li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../tag-helpers/index.html">Tag Helpers</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../tag-helpers/anchor-tag-helper.html">Anchor Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/cache-tag-helper.html">Cache Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/distributed-cache-tag-helper.html">Distributed Cache Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/environment-tag-helper.html">Environment Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/form-action-tag-helper.html">Form Action Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/form-tag-helper.html">Form Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/image-tag-helper.html">Image Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/input-tag-helper.html">Input Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/label-tag-helper.html">Label Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/link-tag-helper.html">Link Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/option-tag-helper.html">Option Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/partial-tag-helper.html">Partial Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/script-tag-helper.html">Script Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/select-tag-helper.html">Select Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/textarea-tag-helper.html">TextArea Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/validation-message-tag-helper.html">Validation Message Tag Helper</a></li>
                <li><a itemprop="url" href="../../tag-helpers/validation-summary-tag-helper.html">Validation Summary Tag Helper</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../view-components.html">View Components</a>
        </li>
        <li>
            <a itemprop="url" href="../../routing.html">Routing and URLs</a>
            <ul class="nav-level-two">
                <li><a href="../../../advanced/custom-route-conventions.html">Customising Route Conventions</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../startup.html">Startup</a>
        </li>
        <li>
            <a itemprop="url" href="../../../configuration.html">Configuration</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../../configuration/global-error-handling.html">Global Error Handling And Logging</a></li>
                <li><a itemprop="url" href="../../../configuration/custom-errors.html">Custom Error Pages</a></li>
                <li><a itemprop="url" href="../../../configuration/https.html">Configuring HTTPS</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../middleware.html">Middleware</a>
        </li>
        <li>
            <a itemprop="url" href="../../forms.html">Working With Forms</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../forms/file-upload.html">Uploading Files in Razor Pages</a></li>
                <li><a itemprop="url" href="../../forms/checkboxes.html">Working With Checkboxes</a></li>
                <li><a itemprop="url" href="../../forms/select-lists.html">Select Lists in a Razor Pages Form</a></li>
                <li><a itemprop="url" href="../../forms/radios.html">Working With Radio Buttons</a></li>
                <li><a itemprop="url" href="../../../security/request-verification.html">Request Verification</a></li>
            </ul>
        </li>
        <li><a itemprop="url" href="../../validation.html">Validation</a></li>
        <li>
            <a itemprop="url" href="../../model-binding.html">Model Binding</a>
        </li>
        <li>
            <a itemprop="url" href="../../state-management.html">State Management</a>
        </li>
        <li>
            <a itemprop="url" href="../../caching.html">Caching</a>
        </li>
        <li>
            <a itemprop="url" href="../../../identity.html">Managing Security With ASP.NET Identity</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../../identity/customising-identity.html">Customising Identity</a></li>
            </ul>
        </li>
        <li>
		<a itemprop="url" href="../../ajax.html">Using AJAX</a>
		<ul class="nav-level-two">
			<li><a itemprop="url" href="../../ajax/form-post.html">Posting Forms</a>    </li>
			<li><a itemprop="url" href="../../ajax/partial-update.html">Partial Page Updates</a></li>
			<li><a itemprop="url" href="../../ajax/upload-files.html">Uploading Files</a></li>
			<li><a itemprop="url" href="../../ajax/unobtrusive-ajax.html">Unobtrusive AJAX</a></li>
		</ul>
	</li>
        <li>
            <a itemprop="url" href="../../../web-api.html">Working with JSON</a>
        </li>
        <li>
            <a itemprop="url" href="../../../miscellaneous/scaffolding.html">Scaffolding</a>
        </li>
        <li>
            <a itemprop="url" href="../../../publishing/publish-to-iis.html">Publishing To IIS</a>
        </li>
        <li>
            <a itemprop="url" href="../../../advanced.html">Advanced</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../../../advanced/areas.html">Areas</a></li>
                <li><a itemprop="url" href="../../../advanced/custom-tag-helpers.html">Custom Tag Helpers</a></li>
                <li><a itemprop="url" href="../../../advanced/custom-route-conventions.html">Customising Route Conventions</a></li>
                <li><a itemprop="url" href="../../../advanced/custom-constraints.html">Custom Route Constraints</a></li>
                <li><a itemprop="url" href="../../../advanced/route-parameter-transformers.html">Parameter Transformers For Routes</a></li>
                <li><a itemprop="url" href="../../../advanced/dependency-injection.html">Dependency Injection</a></li>
                <li><a itemprop="url" href="../../filters.html">Filters</a></li>
                <li><a itemprop="url" href="../../../advanced/razor-class-library.html">Razor Class Libraries</a></li>
                <li><a itemprop="url" href="../../../advanced/render-partial-to-string.html">Rendering A Partial View To A String</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../../../table-of-contents.html">Table Of Contents</a>
        </li>
    </ul>
</nav>

            <footer>
                <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
            </footer>
        </div>
        <!-- /.sidebar-collapse -->
    </div>

    <div id="page-wrapper">
        <div class="body-content">
            <div class="row">
                <div class="col-md-9">
                    
<div id="article">
    <h1 itemprop="headline" id="working-with-data">Working With Data</h1>
<div itemprop="articleBody"><p>In this first look at working with data, you will focus on using the <code>BakeryContext</code> to retrieve data for display on the home page and the ordering page, which has yet to be added to the application. As a reminder, the home page should look similar to the ASP.NET Web Pages version here:</p>
<p><img src="../../../images/13-11-2018-14-40-18.png" class="img-fluid" alt="ASP.NET Web Pages Bakery Template" /></p>
<p>All of the products are displayed together with their descriptions, image and price, with one of the products selected randomly to appear as the featured product at the top of the page.</p>
<p>A small amount of preparation is required to manage the display of the data. So to begin with, add the following code to the existing <em>site.css</em> file located in <em>wwwroot/css</em>:</p>
<pre><code class="language-css">body{
  color: #696969;
}
a:link {
  color: #3b3420;
  text-decoration: none;
}

a:visited {
  color: #3b3420;
  text-decoration: none;
}

a:hover {
  color: #a52f09;
  text-decoration: none;
}

a:active {
  color: #a52f09;
}

a.order-button, a.order-button:hover{
  color: #fdfcf7;
}

.productInfo, .action{
  max-width: 200px;
}

p{
  font-size: 0.8rem;
}

#orderProcess {
  list-style: none;
  padding: 0;
  clear: both;
}

#orderProcess li {
  color: #696969;
  display: inline;
  font-size: 1.2em;
  margin-right: 15px;
  padding: 3px 0px 0px 5px;
}

.step-number {
    background-color: #edece8;
    border: 1px solid #e6e4d9;
    font-size: 1.5em;
    margin-right: 5px;
    padding: 3px 10px;
}

.current .step-number {
    background-color: #a52f09;
    border-color: #712107;
    color: #fefefe;
} 

.orderPageList{
    padding-inline-start: 20px;
}

.actions .order-button{
  margin-left:20px;
}
</code></pre>
<h2 id="the-pagemodel">The PageModel</h2>
<p>Now, open the <em>Pages/Index.cshtml.cs</em> file and replace the contents with the following:</p>
<pre><code class="language-csharp">using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using Bakery.Data;
using Bakery.Models;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Mvc.RazorPages;
using Microsoft.EntityFrameworkCore;

namespace Bakery.Pages
{
    public class IndexModel : PageModel
    {
        private readonly BakeryContext db;  

        public IndexModel(BakeryContext db) =&gt; this.db = db;

        public List&lt;Product&gt; Products { get; set; } = new List&lt;Product&gt;();  
        public Product FeaturedProduct { get; set; }  

        public async Task OnGetAsync()
        {
            Products = await db.Products.ToListAsync();
            FeaturedProduct = Products.ElementAt(new Random().Next(Products.Count));
        }
    }
}
</code></pre>
<p>This is the <a href="../../pagemodel.html">PageModel</a> file. The PageModel acts as a combined page controller and view model. As a controller, its role is to process information from a request, and then prepare a model for the view (the viewmodel). There is a one-to-one mapping between PageModels and Content Pages (the view) so the PageModel itself <em>is</em> the viewmodel.</p>
<p>Information from the request is processed within <a href="../../handler-methods.html">handler methods</a>. This PageModel has one handler method - <code>OnGetAsync</code>, which is executed by convention as a result of HTTP requests made with the <code>GET</code> verb. The PageModel has a private field named <code>db</code> which is a <code>BakeryContext</code> type. It also has a constructor method that takes a <code>BakeryContext</code> object as a parameter. The parameter's value is provided by the dependency injection system. This pattern is known as <em>construction injection</em>. The parameter is assigned to the private field within the constructor (using an <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members">expression body</a>).</p>
<p>The PageModel class has two public properties - a list of products, and a single product  representing the featured product that appears at the top of the page. The list is populated by the following code from the <code>OnGetAsync</code> method:</p>
<pre><code class="language-csharp">Products = await db.Products.ToListAsync();
</code></pre>
<p>The next line of code in the <code>OnGetAsync</code> method assigns one of the products to the <code>FeaturedProduct</code> property randomly:</p>
<pre><code class="language-csharp">FeaturedProduct = Products.ElementAt(new Random().Next(Products.Count));
</code></pre>
<h2 id="the-content-page">The Content Page</h2>
<p>Now it's time to produce the UI. Replace the code in the Index content page (<em>Pages/Index.cshtml</em>) with the following:</p>
<pre><code class="language-html">@page
@model IndexModel
@{
    ViewData[&quot;Title&quot;] = &quot;Home page&quot;;
}

&lt;h1&gt;Welcome to Fourth Coffee!&lt;/h1&gt;

&lt;div id=&quot;featuredProduct&quot; class=&quot;row&quot;&gt; 
    &lt;div class=&quot;col-sm-8&quot;&gt;
        &lt;img alt=&quot;Featured Product&quot; src=&quot;~/Images/Products/@Model.FeaturedProduct.ImageName&quot; class=&quot;img-fluid rounded&quot;/&gt;
    &lt;/div&gt;
    &lt;div id=&quot;featuredProductInfo&quot; class=&quot;col-sm-4&quot;&gt;
        &lt;div id=&quot;productInfo&quot;&gt;
            &lt;h2&gt;@Model.FeaturedProduct.Name&lt;/h2&gt;
            &lt;p class=&quot;price&quot;&gt;<a href="../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="3612764542445f5851187059445b5742">[email&#160;protected]</a>(&quot;{0:f}&quot;, Model.FeaturedProduct.Price)&lt;/p&gt;
            &lt;p class=&quot;description&quot;&gt;@Model.FeaturedProduct.Description&lt;/p&gt;
        &lt;/div&gt;
        &lt;div id=&quot;callToAction&quot;&gt;
            &lt;a class=&quot;btn btn-danger order-button&quot; asp-page=&quot;/order&quot; asp-route-id=&quot;@Model.FeaturedProduct.Id&quot; title=&quot;Order @Model.FeaturedProduct.Name&quot;&gt;Order Now&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;productsWrapper&quot; class=&quot;row&quot;&gt;
@foreach (var product in Model.Products)
{
    &lt;div class=&quot;col-sm-3&quot;&gt;
        &lt;a asp-page=&quot;/order&quot; asp-route-id=&quot;@product.Id&quot; title=&quot;Order @product.Name&quot;&gt;
            &lt;div class=&quot;productInfo&quot;&gt;
                &lt;h3&gt;@product.Name&lt;/h3&gt;
                &lt;img class=&quot;product-image img-fluid img-thumbnail&quot; src=&quot;~/Images/Products/Thumbnails/@product.ImageName&quot; alt=&quot;Image of @product.Name&quot; /&gt;
                &lt;p class=&quot;description&quot;&gt;@product.Description&lt;/p&gt;
            &lt;/div&gt;
        &lt;/a&gt;

        &lt;div class=&quot;action&quot;&gt;
            &lt;p class=&quot;price float-left&quot;&gt;<a href="../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="ffdbbf8c8b8d969198d1b9908d929e8b">[email&#160;protected]</a>(&quot;{0:f}&quot;, product.Price)&lt;/p&gt;
            &lt;a class=&quot;btn btn-sm btn-danger order-button float-right&quot; asp-page=&quot;/order&quot; asp-route-id=&quot;@product.Id&quot; title=&quot;Order @product.Name&quot;&gt;Order Now&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
}
&lt;/div&gt;
</code></pre>
<p>The <code>@model</code> directive at the top of the page specifies the type for the page's model (<code>IndexModel</code>). You work with the PageModel through the content page's <code>Model</code> property.</p>
<p>The top section of the HTML shows the featured product. The bottom section loops through all of the products and displays their thumbnail image. Each product includes a hyperlink, styled like a button (using Bootstrap styling). Although it doesn't go anywhere yet, the hyperlink is generated by an anchor tag helper, which includes an <code>asp-route</code> attribute. This attribute is used for passing data as route values to the target page. You will see how this works when you add the Order page, which is the next step.</p>
<p>In the meantime, test the application by executing <code>dotnet run</code> at the terminal and then browse to <code>https://localhost:5001</code>. The home page should look like this:</p>
<p><img src="../../../images/27-11-2018-09-03-27.jpg" class="img-fluid" alt="Bakery Home Page" /></p>
<div class="alert alert-info"><h2 id="mobile-users">Mobile users</h2>
<p>The original Web Pages Bakery template uses <em>device detection</em> or <em>browser sniffing</em> to serve the needs of mobile users. If the user is detected as using a mobile device (largely inferred from values found in the <code>user-agent</code> header), the site switches to using a different layout file (<em>sitelayout.mobile.cshtml</em>). There are two problems with this approach: first, you need to keep your device detection library up to date, otherwise it may end up failing more than it succeeds; and second, you need to maintain multiple versions of layout files and style sheets for the site.</p>
<p>These days, the solution to the problem of dealing with differing device resolutions is to use <a href="https://en.wikipedia.org/wiki/Responsive_web_design">Responsive Design</a>, a technique that detects the screen size available, and reflows content accordingly. This capability is built into Bootstrap, and you can see how it works by resizing the browser that you have open currently. As soon as the width of the browser window falls below 576px, the display changes dramatically:</p>
<p><img src="../../../images/27-11-2018-09-26-42.jpg" class="img-fluid" alt="Responsive Design" /></p>
<p>The featured product image has scaled down in size, and the other product panels have stacked vertically. In addition, the menu is now hidden, to be invoked when the user taps/clicks on the button with the 3 horizontal bars.</p>
<p>The 576px breakpoint is determined by the use of the <code>col-sm-*</code> class in the divs, where <code>sm</code> is the relevant part of the CSS class name. If we had used e.g. <code>col-md-3</code> instead, the contents would have stacked when the browser width fell below 768px. You can learn more about the <a href="https://getbootstrap.com/docs/4.1/layout/grid/">Bootstrap Grid system here</a>.</p>
<p>Of course, because responsive design techniques are not device-dependant, you don't need to rely on emulators to test them.</p>
</div>
<h2 id="adding-the-order-page">Adding The Order Page</h2>
<p>Add a new page by executing the following command in the terminal:</p>
<pre><code class="language-cmd">dotnet new page --name Order --namespace Bakery.Pages --output Pages
</code></pre>
<p>Open the newly created <em>Order.cshtml.cs</em> file and replace the content with the following:</p>
<pre><code class="language-csharp">using System;
using System.Threading.Tasks;
using Bakery.Data;
using Bakery.Models;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Mvc.RazorPages;

namespace Bakery.Pages
{
    public class OrderModel : PageModel
    {
        private BakeryContext db;

        public OrderModel(BakeryContext db) =&gt; this.db = db;

        [BindProperty(SupportsGet =true)]
        public int Id { get; set; }

        public Product Product { get; set;}

        public async Task OnGetAsync() =&gt;  Product = await db.Products.FindAsync(Id);
    }
}
</code></pre>
<p>Again, the <code>BakeryContext</code> is injected into the PageModel constructor. A public property, <code>Product</code>, is instantiated in the <code>OnGetAsync</code> method. The <code>FindAsync</code> method takes a value representing the primary key of the entity to be returned. In this case, the parameter passed to the <code>FindAsync</code> method is another public property - <code>Id</code>. But where does it get its value from?</p>
<p>The <code>Id</code> property is decorated with the <code>BindProperty</code> attribute. This attribute ensures that the property is included in the <a href="../../model-binding.html">model binding</a> process, which results in values passed as part of an HTTP request being mapped to PageModel properties and handler method parameters. By default, model binding only works for values passed in a <code>POST</code> request. The Order page is reached by clicking a link on the home page, which results in a <code>GET</code> request. You must add <code>SupportsGet = true</code> to opt in to model binding on <code>GET</code> requests.</p>
<p>If you recall, the anchor tag helpers on the home page that link to the Order page include an <code>asp-route-id</code> attribute, representing a <em>route value</em> named <code>id</code>.  Route values are passed as part of the URL. If the receiving page has a matching route parameter defined, the value is passed as a segment of the URL e.g. <code>order/3</code>. Otherwise it is passed as a query string value: <code>order?id=3</code>. Either way, the incoming value will be bound to the <code>Id</code> property.</p>
<p>Next, amend the content of <em>Order.cshtml</em> as follows:</p>
<pre><code class="language-html">@page &quot;{id:int}&quot;
@model Bakery.Pages.OrderModel
@{
    ViewData[&quot;Title&quot;] = &quot;Place Your Order&quot;;
}
&lt;ol id=&quot;orderProcess&quot;&gt;
    &lt;li&gt;&lt;span class=&quot;step-number&quot;&gt;1&lt;/span&gt;Choose Item&lt;/li&gt;
    &lt;li class=&quot;current&quot;&gt;&lt;span class=&quot;step-number&quot;&gt;2&lt;/span&gt;Details &amp;amp; Submit&lt;/li&gt;
    &lt;li&gt;&lt;span class=&quot;step-number&quot;&gt;3&lt;/span&gt;Receipt&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;Place Your Order: @Model.Product.Name&lt;/h1&gt;
</code></pre>
<p id:int>The first line of code contains the <code>@page</code> directive, which is what makes this a Razor Page, and it also includes the following: &quot;&quot;. This is a <a href="../../routing.html#route-templates">route template</a>. This is where you define route parameters for the page. This template defines a parameter named <code>id</code> (which will result in the anchor tag helpers on the home page generating URLs with the id value as a segment). You have also <a href="../../routing.html#adding-constraints">added a constraint</a>. In this case, you have specified that the value of <code>id</code> must be an integer (<code>:int</code>).  Basically, this means that the order page cannot be reached unless a integral value for the <code>id</code> route value is provided.</p>
<p>Now if you run the application and click on one of the buttons on the home page, the order page is displayed with the name of the selected product:</p>
<p><img src="../../../images/28-11-2018-09-53-01.png" class="img-fluid" alt="Razor Pages Bakery" /></p>
<h3 id="summary">Summary</h3>
<p>You have successfully used the <code>BakeryContext</code> to connect to the database and retrieve data, which has been assigned to properties of the PageModel. They are exposed via the <code>Model</code> property in the content page, where you looped through the collection of products to display them. You have also seen in this section how to pass data in URLs and leverage the <code>BindProperty</code> attribute to map route values to public properties in the PageModel. Finally, you have seen how to use that value to query for a specific item so that you can display details of it.</p>
<p>In the next section, you will enable the user to provide contact and shipping details for their order via a form.</p>
<div class="pull-right"><p>Next: <a href="forms.html">Working with Forms</a></p>
</div>
<div class="pull-left"><p>Previous: <a href="migration.html">Creating a Migration</a></p>
</div>

</div>
</div>
<section id="file-meta">
    <span class="file-meta-label">Last updated:</span> <span itemprop="dateModified">07/12/2018 07:38:59</span><br />
</section>

                </div>
                <div class="col-md-3 right-col">
                    
                            <script data-cfasync="false" src="../../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
                        (function() {
                            var cx = 'partner-pub-8046723421340367:6108194070';
                            var gcse = document.createElement('script');
                            gcse.type = 'text/javascript';
                            gcse.async = true;
                            gcse.src = '../../../../cse.google.com/cse07b6.html?cx=' + cx;
                            var s = document.getElementsByTagName('script')[0];
                            s.parentNode.insertBefore(gcse, s);
                        })();
                            </script>
                        <gcse:searchbox-only></gcse:searchbox-only>
                    
                    <div id="doc-outline" class="doc-outline well">
                            <h3 class="doc-outline">On this page</h3>
                            <nav class="doc-outline">
                                <ul>
                                        <li><a itemprop="url" href="#working-with-data" class="page-scroll">Working With Data</a></li>
                                        <li><a itemprop="url" href="#the-pagemodel" class="page-scroll">The PageModel</a></li>
                                        <li><a itemprop="url" href="#the-content-page" class="page-scroll">The Content Page</a></li>
                                        <li><a itemprop="url" href="#mobile-users" class="page-scroll">Mobile users</a></li>
                                        <li><a itemprop="url" href="#adding-the-order-page" class="page-scroll">Adding The Order Page</a></li>
                                        <li><a itemprop="url" href="#summary" class="page-scroll">Summary</a></li>
                                </ul>
                            </nav>

                    </div>
                    <div class="rectangle">
                        
                                <script async src="../../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Rectangle -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:250px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="7622896857"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <div class="doc-outline well">
                        <h3 class="doc-outline">Latest Updates</h3>
                        <nav class="doc-outline">
                            <ul>
                                    <li><a itemprop="url" href="migration.html">Creating A Migration</a></li>
                                    <li><a itemprop="url" href="create-model.html">Working With A Model</a></li>
                                    <li><a itemprop="url" href="../../routing.html">Routing in Razor Pages</a></li>
                                    <li><a itemprop="url" href="working-with-data.html">Working With Data</a></li>
                                    <li><a itemprop="url" href="new-page.html">Adding a New Page</a></li>
                                    <li><a itemprop="url" href="../bakery.html">Creating an Application</a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="skyscraper">
                        
                                <script async src="../../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Skyscraper -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:600px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="4239197376"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <footer>
                        <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
                    </footer>
                </div>
            </div>
        </div>
        <a href="#page-top" id="back-to-top" class="page-scroll" title="Back to top"><i class="fas fa-arrow-alt-circle-up"></i></a>
    </div>
    <div class="cookie-box" id="cookie-warning">
        <div class="cookie-box-contents" id="learnrazorpages">This site uses cookies to analyse traffic, remember your preferences, and optimise your experience.</div>
        <div class="cookie-box-buttons"><a href="../../../privacy.html" class="cookie-button">Learn more</a><a href="#" class="cookie-button" id="cookie-close">Close</a></div>
    </div>
    <script src="../../../../ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"></script>
    <script src="../../../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.min.js"></script>
    <script src="../../../../code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    
    <script src="../../../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script src="../../../js/site59f2.js?v=gJZRD7PDF8oEm1Xb0uhLZcpf7Vs12fGO-q0DErBSF_Y"></script>
    
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1264020-21"></script>
        <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-1264020-21');
        </script>
    
    
</body>

<!-- Mirrored from www.learnrazorpages.com/razor-pages/tutorial/bakery/working-with-data by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:23:53 GMT -->
</html>
