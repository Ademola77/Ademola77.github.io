<!DOCTYPE html>
<html>

<!-- Mirrored from www.learnrazorpages.com/advanced/render-partial-to-string by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:22:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="This topic shows how to render a Razor Pages Partial output to a string for use in templating purposes such as the body of an email message" />
    <meta name="google-site-verification" content="MpV6gEoCh9OASgnoi656klwnlkni3_qOenITGlxBrjc" />
    <title>Rendering a Partial View to a String in Razor Pages | Learn Razor Pages</title>
    <link rel="canonical" href="render-partial-to-string.html" />
    <link rel="stylesheet" href="../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i|Roboto:300i,500,700" />
    <link rel="stylesheet" href="../../use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <link rel="stylesheet" href="../css/site8249.css?v=PCA7f9VuZUscxMwrePJfyFKXCF9mh2dMpXEDQU8oP3o" />
    <link rel="stylesheet" href="../css/rp14c5.css?v=ZxkVB0StHjR5-UMElJII7nwWe6Wmc6_qgJ97GsY4yNw" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({
                google_ad_client: "ca-pub-8046723421340367",
                enable_page_level_ads: true
            });
        </script>
</head>
<body id="page-top">
    <div class="navbar navbar-default navbar-static-top">
        <div>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <div class="navbar-brand">
                    <i class="fas fa-graduation-cap"></i> <a href="../index.html">Learn Razor Pages</a>
                    <br />
                    <span class="byline">Your guide to using ASP.NET Core Razor Pages</span>
                </div>
                <div class="banner">
                    
                        <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                        <!-- EF Core Leaderboard -->
                        <ins class="adsbygoogle"
                             style="display:inline-block;width:728px;height:90px"
                             data-ad-client="ca-pub-8046723421340367"
                             data-ad-slot="1832525889"></ins>
                        <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>                    
                </div>
            </div>

        </div>
    </div>
    <div class="navbar-default sidebar" role="navigation">
        <div class="sidebar-nav navbar-collapse">
            <nav class="main-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <ul class="nav nav-level-one" id="side-menu">
        <li>
            <a itemprop="url" href="../index.html">Home</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../first-look.html">A First Look</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../asp-net-core.html">ASP.NET Core</a>
        </li>
        <li><a itemprop="url" href="../razor-pages/tutorial/bakery.html">Tutorials</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../razor-pages/tutorial/bakery.html">The Bakery</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages.html">Razor Page Files</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../razor-pages/files/index.html">Razor Files</a></li>
                <li><a itemprop="url" href="../razor-pages/partial-pages.html">Partial Pages</a></li>
                <li><a itemprop="url" href="../razor-pages/files/layout.html">Layout Files</a></li>
                <li><a itemprop="url" href="../razor-pages/files/viewimports.html">ViewImports File</a></li>
                <li><a itemprop="url" href="../razor-pages/files/viewstart.html">ViewStart File</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../razor-syntax.html">Razor Syntax</a>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/pagemodel.html">Page Models</a>
            <ul class="nav-level-two">
                <li>
                    <a itemprop="url" href="../razor-pages/handler-methods.html">Handler Methods</a>
                </li>
                <li>
                    <a itemprop="url" href="../razor-pages/viewdata.html">ViewData</a>
                </li>
                <li>
                    <a itemprop="url" href="../razor-pages/action-results.html">Action Results</a>
                </li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/tag-helpers/index.html">Tag Helpers</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../razor-pages/tag-helpers/anchor-tag-helper.html">Anchor Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/cache-tag-helper.html">Cache Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/distributed-cache-tag-helper.html">Distributed Cache Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/environment-tag-helper.html">Environment Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/form-action-tag-helper.html">Form Action Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/form-tag-helper.html">Form Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/image-tag-helper.html">Image Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/input-tag-helper.html">Input Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/label-tag-helper.html">Label Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/link-tag-helper.html">Link Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/option-tag-helper.html">Option Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/partial-tag-helper.html">Partial Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/script-tag-helper.html">Script Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/select-tag-helper.html">Select Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/textarea-tag-helper.html">TextArea Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/validation-message-tag-helper.html">Validation Message Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/validation-summary-tag-helper.html">Validation Summary Tag Helper</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/view-components.html">View Components</a>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/routing.html">Routing and URLs</a>
            <ul class="nav-level-two">
                <li><a href="custom-route-conventions.html">Customising Route Conventions</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../startup.html">Startup</a>
        </li>
        <li>
            <a itemprop="url" href="../configuration.html">Configuration</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../configuration/global-error-handling.html">Global Error Handling And Logging</a></li>
                <li><a itemprop="url" href="../configuration/custom-errors.html">Custom Error Pages</a></li>
                <li><a itemprop="url" href="../configuration/https.html">Configuring HTTPS</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../middleware.html">Middleware</a>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/forms.html">Working With Forms</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../razor-pages/forms/file-upload.html">Uploading Files in Razor Pages</a></li>
                <li><a itemprop="url" href="../razor-pages/forms/checkboxes.html">Working With Checkboxes</a></li>
                <li><a itemprop="url" href="../razor-pages/forms/select-lists.html">Select Lists in a Razor Pages Form</a></li>
                <li><a itemprop="url" href="../razor-pages/forms/radios.html">Working With Radio Buttons</a></li>
                <li><a itemprop="url" href="../security/request-verification.html">Request Verification</a></li>
            </ul>
        </li>
        <li><a itemprop="url" href="../razor-pages/validation.html">Validation</a></li>
        <li>
            <a itemprop="url" href="../razor-pages/model-binding.html">Model Binding</a>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/state-management.html">State Management</a>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/caching.html">Caching</a>
        </li>
        <li>
            <a itemprop="url" href="../identity.html">Managing Security With ASP.NET Identity</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../identity/customising-identity.html">Customising Identity</a></li>
            </ul>
        </li>
        <li>
		<a itemprop="url" href="../razor-pages/ajax.html">Using AJAX</a>
		<ul class="nav-level-two">
			<li><a itemprop="url" href="../razor-pages/ajax/form-post.html">Posting Forms</a>    </li>
			<li><a itemprop="url" href="../razor-pages/ajax/partial-update.html">Partial Page Updates</a></li>
			<li><a itemprop="url" href="../razor-pages/ajax/upload-files.html">Uploading Files</a></li>
			<li><a itemprop="url" href="../razor-pages/ajax/unobtrusive-ajax.html">Unobtrusive AJAX</a></li>
		</ul>
	</li>
        <li>
            <a itemprop="url" href="../web-api.html">Working with JSON</a>
        </li>
        <li>
            <a itemprop="url" href="../miscellaneous/scaffolding.html">Scaffolding</a>
        </li>
        <li>
            <a itemprop="url" href="../publishing/publish-to-iis.html">Publishing To IIS</a>
        </li>
        <li>
            <a itemprop="url" href="../advanced.html">Advanced</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="areas.html">Areas</a></li>
                <li><a itemprop="url" href="custom-tag-helpers.html">Custom Tag Helpers</a></li>
                <li><a itemprop="url" href="custom-route-conventions.html">Customising Route Conventions</a></li>
                <li><a itemprop="url" href="custom-constraints.html">Custom Route Constraints</a></li>
                <li><a itemprop="url" href="route-parameter-transformers.html">Parameter Transformers For Routes</a></li>
                <li><a itemprop="url" href="dependency-injection.html">Dependency Injection</a></li>
                <li><a itemprop="url" href="../razor-pages/filters.html">Filters</a></li>
                <li><a itemprop="url" href="razor-class-library.html">Razor Class Libraries</a></li>
                <li><a itemprop="url" href="render-partial-to-string.html">Rendering A Partial View To A String</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../table-of-contents.html">Table Of Contents</a>
        </li>
    </ul>
</nav>

            <footer>
                <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
            </footer>
        </div>
        <!-- /.sidebar-collapse -->
    </div>

    <div id="page-wrapper">
        <div class="body-content">
            <div class="row">
                <div class="col-md-9">
                    
<div id="article">
    <h1 itemprop="headline" id="rendering-a-partial-view-to-a-string">Rendering A Partial View To A String</h1>
<div itemprop="articleBody"><p><a href="../razor-pages/partial-pages.html">Partial Views or Pages</a> are primarily used as a means of including reusable snippets of HTML within one or more Razor Pages. The power of the Razor templating system used in a partial can also be harnessed to generate HTML for other purposes, such as the body of a mail message.</p>
<p>The sample application to demonstrate this is built using Visual Studio Code, and assumes that you have the C# extension added, but the sample will work in Visual Studio too.</p>
<ol>
<li><p>Create a folder in a suitable location and name it <strong>RazorPartialToString</strong>.</p>
</li>
<li><p>Open the folder within VS Code and bring up the terminal by pressing <kbd>Ctrl</kbd>+<kbd>'</kbd> (<kbd>⌘</kbd>+<kbd>'</kbd> on a Mac).</p>
</li>
<li><p>Create a new Razor Page application by typing <code>dotnet new razor</code>. Whenever you get a message &quot;Required assets to build and debug are missing... Add them?&quot;, click <strong>Yes</strong>.</p>
</li>
<li><p>Create folder named <strong>Services</strong> by typing <code>mkdir Services</code>.</p>
</li>
<li><p>Add an interface to the <em>Services</em> folder named <em>IRazorPartialToStringRenderer.cs</em>. This is more easily accomplished if you have the <strong>C# Extensions</strong> extension installed in your VS Code. You can add the file by right-clicking on the folder:<br />
<img src="../images/2018-10-28_20-52-10.png" class="img-fluid" alt="Render Partial To String" /></p>
<p>The full code for the file follows:</p>
<pre><code class="language-csharp">using System.Threading.Tasks;

namespace RazorPartialToString.Services
{
    public interface IRazorPartialToStringRenderer
    {
        Task&lt;string&gt; RenderPartialToStringAsync&lt;TModel&gt;(string partialName, TModel model);
    }
}
</code></pre>
</li>
<li><p>Add a C# class file to the Services folder named <em>RazorPartialToStringRenderer.cs</em> with the following code:</p>
<pre><code class="language-csharp">using System;
using System.IO;
using System.Linq;
using System.Threading.Tasks;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Mvc.Abstractions;
using Microsoft.AspNetCore.Mvc.ModelBinding;
using Microsoft.AspNetCore.Mvc.Razor;
using Microsoft.AspNetCore.Mvc.Rendering;
using Microsoft.AspNetCore.Mvc.ViewEngines;
using Microsoft.AspNetCore.Mvc.ViewFeatures;
using Microsoft.AspNetCore.Routing;

namespace RazorPartialToString.Services
{
    public class RazorPartialToStringRenderer : IRazorPartialToStringRenderer
    {
        private IRazorViewEngine _viewEngine;
        private ITempDataProvider _tempDataProvider;
        private IServiceProvider _serviceProvider;

        public RazorPartialToStringRenderer(
            IRazorViewEngine viewEngine,
            ITempDataProvider tempDataProvider,
            IServiceProvider serviceProvider)
        {
            _viewEngine = viewEngine;
            _tempDataProvider = tempDataProvider;
            _serviceProvider = serviceProvider;
        }

        public async Task&lt;string&gt; RenderPartialToStringAsync&lt;TModel&gt;(string partialName, TModel model)
        {
            var actionContext = GetActionContext();
            var partial = FindView(actionContext, partialName);

            using (var output = new StringWriter())
            {
                var viewContext = new ViewContext(
                    actionContext,
                    partial,
                    new ViewDataDictionary&lt;TModel&gt;(
                        metadataProvider: new EmptyModelMetadataProvider(),
                        modelState: new ModelStateDictionary())
                    {
                        Model = model
                    },
                    new TempDataDictionary(
                        actionContext.HttpContext,
                        _tempDataProvider),
                    output,
                    new HtmlHelperOptions()
                );

                await partial.RenderAsync(viewContext);

                return output.ToString();
            }
        }

        private IView FindView(ActionContext actionContext, string partialName)
        {
            var getPartialResult = _viewEngine.GetView(null, partialName, false);
            if (getPartialResult.Success)
            {
                return getPartialResult.View;
            }

            var findPartialResult = _viewEngine.FindView(actionContext, partialName, false);
            if (findPartialResult.Success)
            {
                return findPartialResult.View;
            }

            var searchedLocations = getPartialResult.SearchedLocations.Concat(findPartialResult.SearchedLocations);
            var errorMessage = string.Join(
                Environment.NewLine,
                new[] { $&quot;Unable to find partial '{partialName}'. The following locations were searched:&quot; }.Concat(searchedLocations)); ;

            throw new InvalidOperationException(errorMessage);
        }

        private ActionContext GetActionContext()
        {
            var httpContext = new DefaultHttpContext
            {
                RequestServices = _serviceProvider
            };

            return new ActionContext(httpContext, new RouteData(), new ActionDescriptor());
        }
    }
}
</code></pre>
<p>This code is responsible for locating the specified partial, and then rendering its output to a <code>StringWriter</code>, and then returning the content of the writer as a string. Much of the code is similar to that found in the <a href="https://github.com/aspnet/Mvc/blob/a67d9363e22be8ef63a1a62539991e1da3a6e30e/src/Microsoft.AspNetCore.Mvc.TagHelpers/PartialTagHelper.cs">Partial Tag Helper source code</a>.</p>
</li>
<li><p>Add another interface to the <em>Services</em> folder, this time called <em>IEmailService.cs</em> with the following content:</p>
<pre><code class="language-csharp">using System.Threading.Tasks;

namespace RazorPartialToString.Services
{
    public interface IEmailService
    {
         Task SendAsync(string email, string name, string subject, string body);
    }
}
</code></pre>
</li>
<li><p>Now add the following implementation named <em>DemoEmailService.cs</em>:</p>
<pre><code>using System.Net.Mail;
using System.Threading.Tasks;

namespace RazorPartialToString.Services
{
    public class DemoEmailService : IEmailService
    {
        public async Task SendAsync(string email, string name, string subject, string body)
        {
            using (var smtp = new SmtpClient())
            {
                smtp.DeliveryMethod = SmtpDeliveryMethod.SpecifiedPickupDirectory;
                smtp.PickupDirectoryLocation = @&quot;c:\maildump&quot;;
                var message = new MailMessage
                {
                    Body = body,
                    Subject = subject,
                    From = new MailAddress(email, name),
                    IsBodyHtml = true
                };
                message.To.Add(&quot;<a href="../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="adcec2c3d9ccced9edc9c2c0ccc4c383cec2c0">[email&#160;protected]</a>&quot;);
                await smtp.SendMailAsync(message);
            }
        }
    }
}
</code></pre>
<p>This is just standard boiler-plate email sending code that uses the  <code>SpecifiedPickupDirectory</code> delivery method, ensuring that any generated emails are placed in the specified <code>PickupDirectoryLocation</code> rather than actually being sent via an SMTP server. It enables easy testing of email functionality without being reliant on an Internet connection, or having to wait for the generated email to be delivered. There is nothing special about the location <em>c:\maildump</em>. Feel free to alter the actual location that the email will be saved in to suit your environment.</p>
</li>
<li><p>Register the services in the <code>ConfigureServices</code> method in the <code>Startup</code> class:</p>
<pre><code>services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Latest);
services.AddTransient&lt;IEmailService, DemoEmailService&gt;();
services.AddTransient&lt;IRazorPartialToStringRenderer, RazorPartialToStringRenderer&gt;();
</code></pre>
</li>
<li><p>Create a Contact page using the following command:</p>
<pre><code class="language-cmd"> dotnet new page -n Contact -o Pages -na RazorPartialToString.Pages
</code></pre>
<p>Note: this is only necessary if you are using ASP.NET Core 2.2. Previous versions of the Razor Pages project template included a basic Contact page.</p>
</li>
<li><p>Alter the content of the PageModel file (<em>Contact.cshtml.cs</em>) as below:</p>
<pre><code class="language-csharp">using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Mvc.RazorPages;
using RazorPartialToString.Services;

namespace RazorPartialToString.Pages
{
    public class ContactModel : PageModel
    {
        private readonly IRazorPartialToStringRenderer _renderer;
        private readonly IEmailService _emailer;

        public ContactModel(IRazorPartialToStringRenderer renderer, IEmailService emailer)
        {
            _renderer = renderer;
            _emailer = emailer;
        }

        [BindProperty]
        public ContactForm ContactForm { get; set; }
        [TempData]
        public string PostResult {get;set;}

        public async Task&lt;IActionResult&gt; OnPostAsync()
        {
            var body = await _renderer.RenderPartialToStringAsync(&quot;_ContactEmailPartial&quot;, ContactForm);
            await _emailer.SendAsync(ContactForm.Name, ContactForm.Email, ContactForm.Subject, body);
            PostResult = &quot;Check your specified pickup directory&quot;;
            return RedirectToPage();
        }
    }

    public class ContactForm
    {
        public string Email { get; set; }
        public string Message { get; set; }
        public string Name { get; set; }
        public string Subject { get; set; }
        public Priority Priority { get; set; }
    }

    public enum Priority
    {
        Low, Medium, High
    }
}
</code></pre>
<p>A wrapper class for some form values is declared (<code>ContactForm</code>), and is added to the PageModel as a bound property. Its contents are passed to the string rendering service in the <code>OnPostAsync</code> method to generate the body of an email, which is sent via the email service.</p>
</li>
<li><p>Alter the content page (Contact.cshtml) so that it contains the following code:</p>
<pre><code class="language-html">@page
@model RazorPartialToString.Pages.ContactModel

@if(TempData[&quot;PostResult&quot;] == null)
{
    &lt;form method=&quot;post&quot;&gt;
        &lt;label asp-for=&quot;ContactForm.Name&quot;&gt;&lt;/label&gt;
        &lt;div class=&quot;form-group&quot;&gt;
            &lt;input asp-for=&quot;ContactForm.Name&quot;&gt;
        &lt;/div&gt;
        &lt;label asp-for=&quot;ContactForm.Email&quot;&gt;&lt;/label&gt;
        &lt;div class=&quot;form-group&quot;&gt;
            &lt;input asp-for=&quot;ContactForm.Email&quot;&gt;
        &lt;/div&gt;
        &lt;label asp-for=&quot;ContactForm.Subject&quot;&gt;&lt;/label&gt;
        &lt;div class=&quot;form-group&quot;&gt;
            &lt;input asp-for=&quot;ContactForm.Subject&quot;&gt;
        &lt;/div&gt;
        &lt;label asp-for=&quot;ContactForm.Message&quot;&gt;&lt;/label&gt;
        &lt;div class=&quot;form-group&quot;&gt;
            &lt;textarea asp-for=&quot;ContactForm.Message&quot;&gt;&lt;/textarea&gt;
        &lt;/div&gt;
        &lt;label asp-for=&quot;ContactForm.Priority&quot;&gt;&lt;/label&gt;
        &lt;div class=&quot;form-group&quot;&gt;
            &lt;select asp-for=&quot;ContactForm.Priority&quot; asp-items=&quot;Html.GetEnumSelectList&lt;Priority&gt;()&quot;&gt;
                &lt;option value=&quot;&quot;&gt;Set Priority&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        &lt;div class=&quot;form-group&quot;&gt;
            &lt;button class=&quot;btn btn-sm btn-primary&quot;&gt;Submit &lt;/button&gt;
        &lt;/div&gt;
    &lt;/form&gt;
}
else
{
    &lt;p&gt;@TempData[&quot;PostResult&quot;]&lt;/p&gt;
}
</code></pre>
</li>
<li><p>Create a new file in the <em>Pages/Shared</em> folder named _<em>ContactEmailPartial.cshtml</em> with the following code:</p>
<pre><code class="language-html">@model ContactForm
@{
    Layout = null;
}
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Contact Email&lt;/title&gt;
        &lt;style&gt;
            body{font-family:Calibri, sans-serif;font-size: 11pt;color: #555;}
            blockquote{border-left: 8px solid #cceeaa;font-size: 12pt;margin:0;padding: 30px 60px;}
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Contact Form&lt;/h1&gt;
        &lt;p&gt;@Model.Name sent a message via the contact form at @DateTime.Now as follows:&lt;/p&gt;
        &lt;blockquote&gt;@Model.Message&lt;/blockquote&gt;
        &lt;p&gt;@Model.Name is using the email address @Model.Email and considers the message to 
        be @Model.Priority.ToString() priority.&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>This file acts as  template for the body of the email message. It takes the <code>ContactForm</code> class as a model. Importantly, the layout page is set to <code>null</code> to prevent the <em>ViewStart</em> file applying one. The styles for the HTML are specified inline because most desktop email clients don't support referencing external style sheets.</p>
</li>
<li><p>Run the application by executing the <code>dotnet run</code> command from the terminal.</p>
</li>
<li><p>Navigate to <code>https://localhost:5001/contact</code> and enter some values into the form</p>
<p><img src="../images/31-10-2018-08-55-58.png" class="img-fluid" alt="Render Razor Partial To String" /></p>
</li>
<li><p>Press submit, and then check the location of your specified pickup directory as suggested in the message rendered to the browser. You should have a .eml file there:</p>
<p><img src="../images/31-10-201-10-09-05.png" class="img-fluid" alt="Render Razor Partial To String" /></p>
<p>When you open it in your default mail client, you should see a properly formatted email:</p>
<p><img src="../images/31-10-2018-10-12-38.png" class="img-fluid" alt="Render Razor Partial To String" /></p>
</li>
</ol>

</div>
</div>
<section id="file-meta">
    <span class="file-meta-label">Last updated:</span> <span itemprop="dateModified">31/10/2018 13:54:42</span><br />
</section>

                </div>
                <div class="col-md-3 right-col">
                    
                            <script data-cfasync="false" src="../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
                        (function() {
                            var cx = 'partner-pub-8046723421340367:6108194070';
                            var gcse = document.createElement('script');
                            gcse.type = 'text/javascript';
                            gcse.async = true;
                            gcse.src = '../../cse.google.com/cse07b6.html?cx=' + cx;
                            var s = document.getElementsByTagName('script')[0];
                            s.parentNode.insertBefore(gcse, s);
                        })();
                            </script>
                        <gcse:searchbox-only></gcse:searchbox-only>
                    
                    <div id="doc-outline" class="doc-outline well">
                            <h3 class="doc-outline">On this page</h3>
                            <nav class="doc-outline">
                                <ul>
                                        <li><a itemprop="url" href="#rendering-a-partial-view-to-a-string" class="page-scroll">Rendering A Partial View To A String</a></li>
                                </ul>
                            </nav>

                    </div>
                    <div class="rectangle">
                        
                                <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Rectangle -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:250px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="7622896857"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <div class="doc-outline well">
                        <h3 class="doc-outline">Latest Updates</h3>
                        <nav class="doc-outline">
                            <ul>
                                    <li><a itemprop="url" href="../razor-pages/tutorial/bakery/migration.html">Creating A Migration</a></li>
                                    <li><a itemprop="url" href="../razor-pages/tutorial/bakery/create-model.html">Working With A Model</a></li>
                                    <li><a itemprop="url" href="../razor-pages/routing.html">Routing in Razor Pages</a></li>
                                    <li><a itemprop="url" href="../razor-pages/tutorial/bakery/working-with-data.html">Working With Data</a></li>
                                    <li><a itemprop="url" href="../razor-pages/tutorial/bakery/new-page.html">Adding a New Page</a></li>
                                    <li><a itemprop="url" href="../razor-pages/tutorial/bakery.html">Creating an Application</a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="skyscraper">
                        
                                <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Skyscraper -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:600px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="4239197376"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <footer>
                        <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
                    </footer>
                </div>
            </div>
        </div>
        <a href="#page-top" id="back-to-top" class="page-scroll" title="Back to top"><i class="fas fa-arrow-alt-circle-up"></i></a>
    </div>
    <div class="cookie-box" id="cookie-warning">
        <div class="cookie-box-contents" id="learnrazorpages">This site uses cookies to analyse traffic, remember your preferences, and optimise your experience.</div>
        <div class="cookie-box-buttons"><a href="../privacy.html" class="cookie-button">Learn more</a><a href="#" class="cookie-button" id="cookie-close">Close</a></div>
    </div>
    <script src="../../ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"></script>
    <script src="../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.min.js"></script>
    <script src="../../code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    
    <script src="../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script src="../js/site59f2.js?v=gJZRD7PDF8oEm1Xb0uhLZcpf7Vs12fGO-q0DErBSF_Y"></script>
    
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1264020-21"></script>
        <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-1264020-21');
        </script>
    
    
</body>

<!-- Mirrored from www.learnrazorpages.com/advanced/render-partial-to-string by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:22:02 GMT -->
</html>
