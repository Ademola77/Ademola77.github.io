<!DOCTYPE html>
<html>

<!-- Mirrored from www.learnrazorpages.com/advanced/custom-tag-helpers by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:19:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Tag helpers are reusable components for automating the generation of HTML in Razor Pages. Here&#x27;s how to build your own custom tag helpers" />
    <meta name="google-site-verification" content="MpV6gEoCh9OASgnoi656klwnlkni3_qOenITGlxBrjc" />
    <title>Creating Custom Tag Helpers in Razor Pages | Learn Razor Pages</title>
    <link rel="canonical" href="custom-tag-helpers.html" />
    <link rel="stylesheet" href="../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i|Roboto:300i,500,700" />
    <link rel="stylesheet" href="../../use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <link rel="stylesheet" href="../css/site8249.css?v=PCA7f9VuZUscxMwrePJfyFKXCF9mh2dMpXEDQU8oP3o" />
    <link rel="stylesheet" href="../css/rp14c5.css?v=ZxkVB0StHjR5-UMElJII7nwWe6Wmc6_qgJ97GsY4yNw" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({
                google_ad_client: "ca-pub-8046723421340367",
                enable_page_level_ads: true
            });
        </script>
</head>
<body id="page-top">
    <div class="navbar navbar-default navbar-static-top">
        <div>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <div class="navbar-brand">
                    <i class="fas fa-graduation-cap"></i> <a href="../index.html">Learn Razor Pages</a>
                    <br />
                    <span class="byline">Your guide to using ASP.NET Core Razor Pages</span>
                </div>
                <div class="banner">
                    
                        <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                        <!-- EF Core Leaderboard -->
                        <ins class="adsbygoogle"
                             style="display:inline-block;width:728px;height:90px"
                             data-ad-client="ca-pub-8046723421340367"
                             data-ad-slot="1832525889"></ins>
                        <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>                    
                </div>
            </div>

        </div>
    </div>
    <div class="navbar-default sidebar" role="navigation">
        <div class="sidebar-nav navbar-collapse">
            <nav class="main-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <ul class="nav nav-level-one" id="side-menu">
        <li>
            <a itemprop="url" href="../index.html">Home</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../first-look.html">A First Look</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../asp-net-core.html">ASP.NET Core</a>
        </li>
        <li><a itemprop="url" href="../razor-pages/tutorial/bakery.html">Tutorials</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../razor-pages/tutorial/bakery.html">The Bakery</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages.html">Razor Page Files</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../razor-pages/files/index.html">Razor Files</a></li>
                <li><a itemprop="url" href="../razor-pages/partial-pages.html">Partial Pages</a></li>
                <li><a itemprop="url" href="../razor-pages/files/layout.html">Layout Files</a></li>
                <li><a itemprop="url" href="../razor-pages/files/viewimports.html">ViewImports File</a></li>
                <li><a itemprop="url" href="../razor-pages/files/viewstart.html">ViewStart File</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../razor-syntax.html">Razor Syntax</a>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/pagemodel.html">Page Models</a>
            <ul class="nav-level-two">
                <li>
                    <a itemprop="url" href="../razor-pages/handler-methods.html">Handler Methods</a>
                </li>
                <li>
                    <a itemprop="url" href="../razor-pages/viewdata.html">ViewData</a>
                </li>
                <li>
                    <a itemprop="url" href="../razor-pages/action-results.html">Action Results</a>
                </li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/tag-helpers/index.html">Tag Helpers</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../razor-pages/tag-helpers/anchor-tag-helper.html">Anchor Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/cache-tag-helper.html">Cache Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/distributed-cache-tag-helper.html">Distributed Cache Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/environment-tag-helper.html">Environment Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/form-action-tag-helper.html">Form Action Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/form-tag-helper.html">Form Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/image-tag-helper.html">Image Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/input-tag-helper.html">Input Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/label-tag-helper.html">Label Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/link-tag-helper.html">Link Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/option-tag-helper.html">Option Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/partial-tag-helper.html">Partial Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/script-tag-helper.html">Script Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/select-tag-helper.html">Select Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/textarea-tag-helper.html">TextArea Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/validation-message-tag-helper.html">Validation Message Tag Helper</a></li>
                <li><a itemprop="url" href="../razor-pages/tag-helpers/validation-summary-tag-helper.html">Validation Summary Tag Helper</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/view-components.html">View Components</a>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/routing.html">Routing and URLs</a>
            <ul class="nav-level-two">
                <li><a href="custom-route-conventions.html">Customising Route Conventions</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../startup.html">Startup</a>
        </li>
        <li>
            <a itemprop="url" href="../configuration.html">Configuration</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../configuration/global-error-handling.html">Global Error Handling And Logging</a></li>
                <li><a itemprop="url" href="../configuration/custom-errors.html">Custom Error Pages</a></li>
                <li><a itemprop="url" href="../configuration/https.html">Configuring HTTPS</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../middleware.html">Middleware</a>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/forms.html">Working With Forms</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../razor-pages/forms/file-upload.html">Uploading Files in Razor Pages</a></li>
                <li><a itemprop="url" href="../razor-pages/forms/checkboxes.html">Working With Checkboxes</a></li>
                <li><a itemprop="url" href="../razor-pages/forms/select-lists.html">Select Lists in a Razor Pages Form</a></li>
                <li><a itemprop="url" href="../razor-pages/forms/radios.html">Working With Radio Buttons</a></li>
                <li><a itemprop="url" href="../security/request-verification.html">Request Verification</a></li>
            </ul>
        </li>
        <li><a itemprop="url" href="../razor-pages/validation.html">Validation</a></li>
        <li>
            <a itemprop="url" href="../razor-pages/model-binding.html">Model Binding</a>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/state-management.html">State Management</a>
        </li>
        <li>
            <a itemprop="url" href="../razor-pages/caching.html">Caching</a>
        </li>
        <li>
            <a itemprop="url" href="../identity.html">Managing Security With ASP.NET Identity</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="../identity/customising-identity.html">Customising Identity</a></li>
            </ul>
        </li>
        <li>
		<a itemprop="url" href="../razor-pages/ajax.html">Using AJAX</a>
		<ul class="nav-level-two">
			<li><a itemprop="url" href="../razor-pages/ajax/form-post.html">Posting Forms</a>    </li>
			<li><a itemprop="url" href="../razor-pages/ajax/partial-update.html">Partial Page Updates</a></li>
			<li><a itemprop="url" href="../razor-pages/ajax/upload-files.html">Uploading Files</a></li>
			<li><a itemprop="url" href="../razor-pages/ajax/unobtrusive-ajax.html">Unobtrusive AJAX</a></li>
		</ul>
	</li>
        <li>
            <a itemprop="url" href="../web-api.html">Working with JSON</a>
        </li>
        <li>
            <a itemprop="url" href="../miscellaneous/scaffolding.html">Scaffolding</a>
        </li>
        <li>
            <a itemprop="url" href="../publishing/publish-to-iis.html">Publishing To IIS</a>
        </li>
        <li>
            <a itemprop="url" href="../advanced.html">Advanced</a>
            <ul class="nav-level-two">
                <li><a itemprop="url" href="areas.html">Areas</a></li>
                <li><a itemprop="url" href="custom-tag-helpers.html">Custom Tag Helpers</a></li>
                <li><a itemprop="url" href="custom-route-conventions.html">Customising Route Conventions</a></li>
                <li><a itemprop="url" href="custom-constraints.html">Custom Route Constraints</a></li>
                <li><a itemprop="url" href="route-parameter-transformers.html">Parameter Transformers For Routes</a></li>
                <li><a itemprop="url" href="dependency-injection.html">Dependency Injection</a></li>
                <li><a itemprop="url" href="../razor-pages/filters.html">Filters</a></li>
                <li><a itemprop="url" href="razor-class-library.html">Razor Class Libraries</a></li>
                <li><a itemprop="url" href="render-partial-to-string.html">Rendering A Partial View To A String</a></li>
            </ul>
        </li>
        <li>
            <a itemprop="url" href="../table-of-contents.html">Table Of Contents</a>
        </li>
    </ul>
</nav>

            <footer>
                <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
            </footer>
        </div>
        <!-- /.sidebar-collapse -->
    </div>

    <div id="page-wrapper">
        <div class="body-content">
            <div class="row">
                <div class="col-md-9">
                    
<div id="article">
    <h1 itemprop="headline" id="creating-custom-tag-helpers">Creating Custom Tag Helpers</h1>
<div itemprop="articleBody"><p><a href="../razor-pages/tag-helpers.html">A wide range of Tag helpers</a> is included as part of the Razor Pages framework. It is also possible to create your own custom tag helpers to automate the generation of HTML in a limitless range of scenarios.</p>
<p>The first example features a tag helper that generates paging links. The tag helper will generate a div enclosing an unordered list, with each list item having a link to a page of data. The resulting HTML should look like this:</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;ul class=&quot;pagination&quot;&gt;
        &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;/page?page=1&quot; title=&quot;Click to go to page 1&quot;&gt;1&lt;/a&gt;&lt;/li&gt;
        &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/page?page=2&quot; title=&quot;Click to go to page 2&quot;&gt;2&lt;/a&gt;&lt;/li&gt;
        &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/page?page=3&quot; title=&quot;Click to go to page 3&quot;&gt;3&lt;/a&gt;&lt;/li&gt;
        &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/page?page=4&quot; title=&quot;Click to go to page 4&quot;&gt;4&lt;/a&gt;&lt;/li&gt;
        &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/page?page=5&quot; title=&quot;Click to go to page 5&quot;&gt;5&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;
</code></pre>
<p>The CSS classes that have been applied are from the BootStrap styles, so the HTML is rendered in the browser like this:</p>
<p><img src="../images/05-06-2017-08-50-51.png" class="img-fluid" alt="Bootstrap pagination tag helper" /></p>
<p>Two approaches to authoring the tag helper are illustrated. The first approach is based on parsing the values applied to the tag helper's attributes. The second approach will show how to bind values from attributes to properties, and is the recommended approach. The code for the first approach is shown in its entirety followed by an explanation for how it works.</p>
<h2 id="attribute-parsing">Attribute Parsing</h2>
<pre><code class="language-csharp">using Microsoft.AspNetCore.Razor.TagHelpers;
using System.Text;

namespace LearnRazorPages.TagHelpers
{
    [HtmlTargetElement(&quot;pager&quot;, Attributes = &quot;total-pages, current-page, link-url&quot;)]
    public class PagerTagHelper : TagHelper
    {
        public override void Process(TagHelperContext context, TagHelperOutput output)
        {
            if (
                int.TryParse(context.AllAttributes[&quot;total-pages&quot;].Value.ToString(), out int totalPages) &amp;&amp; 
                int.TryParse(context.AllAttributes[&quot;current-page&quot;].Value.ToString(), out int currentPage))
            {
                var url = context.AllAttributes[&quot;link-url&quot;].Value;
                output.TagName = &quot;div&quot;;
                output.PreContent.SetHtmlContent(@&quot;&lt;ul class=&quot;&quot;pagination&quot;&quot;&gt;&quot;);

                var content = new StringBuilder();
                for (var i = 1; i &lt;= totalPages; i++)
                {
                    content.AppendLine(<a href="../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="745034">[email&#160;protected]</a>&quot;&lt;li class=&quot;&quot;{(i == currentPage ? &quot;active&quot; : &quot;&quot;)}&quot;&quot;&gt;&lt;a href=&quot;&quot;{url}?page={i}&quot;&quot;  title=&quot;&quot;Click to go to page {i}&quot;&quot;&gt;{ i}&lt;/a&gt;&lt;/li&gt;&quot;);
                }
                output.Content.SetHtmlContent(content.ToString());
                output.PostContent.SetHtmlContent(&quot;&lt;/ul&gt;&quot;);
                output.Attributes.Clear();
            }
        } 
    }
}
</code></pre>
<p>Tag helpers inherit from the abstract <code>TagHelper</code> class which defines a couple of virtual methods: <code>Process</code> and <code>ProcessAsync</code>. These methods are where the HTML output is generated. The vast majority of helpers implement the synchronous <code>Process</code> method. The async version should be used in cases where generating the tag helper's output requires communicating with &quot;out of process&quot; resources, such as files, databases, web services and so on. Both versions of the <code>Process</code> method take two parameters, a <code>TagHelperContext</code> object and a <code>TagHelperOutput</code> object. The <code>TagHelperContext</code> object contains information about the current tag being operated on including all of its attributes. The <code>TagHelperOutput</code> object represents the output generated by the tag helper. As the Razor parser encounters an element in a page that is associated with a tag helper, the tag helper's <code>Process(Async)</code> method is invoked and generates output accordingly.</p>
<h3 id="associating-a-tag-with-a-taghelper">Associating a tag with a TagHelper</h3>
<p>You are encouraged to name your tag helper class with the &quot;TagHelper&quot; suffix. In this example, the tag helper class has been named <code>PagerTagHelper</code>. By convention, the tag helper will target elements that have the same name as the class up to the suffix - in this case: <code>&lt;pager&gt;</code>. If you want to ignore the suffix convention and/or target an element with a different name, you must use the <code>HtmlTargetElement</code> attribute to specify the name of the tag that your helper should process.</p>
<p>You can further refine which elements to target via the <code>Attributes</code> parameter of the <code>HtmlTargetElement</code> attribute. In the example above, three attributes are passed to the <code>Attributes</code> parameter: <code>current-page</code>, <code>total-pages</code> and <code>link-url</code>. The fact that they have been specified as parameters makes them mandatory, so this helper will only act on <code>&lt;pager&gt;</code> elements that have all three attributes declared. Since there is a match between the target element and the tag helper name in this example, it might seem superfluous to pass &quot;pager&quot; to the <code>HtmlTargetElement</code> attribute, but if it is omitted, an overload of the attribute is used which has the <code>Tag</code> property preset to a wildcard (<code>*</code>). In other words, omitting the tag name but passing a list of required attributes will result in the tag helper acting upon <em>any</em> element that features all of the required attributes. If you wanted to target a selection of elements, you can set multiple <code>HtmlTargetElement</code> attributes.</p>
<h3 id="generating-html">Generating HTML</h3>
<p>Tthe <code>TagHelperContext.Attributes</code> collection is queried for values via their string-based index. Further processing for this tag helper is undertaken only if the <code>totalPages</code> and <code>currentPage</code> values can be parsed as numbers.</p>
<p>The <code>TagName</code> property of the <code>TagHelperOutput</code> parameter is set to &quot;div&quot;. This will result in &quot;pager&quot; being replaced by &quot;div&quot; in the final output. This is needed otherwise the tag will retain the name of &quot;pager&quot; when it is converted to HTML and as a consequence will not be rendered by the browser.</p>
<p>The Process method's <code>output</code> parameter has (among others) the following properties: <code>PreContent</code>, <code>Content</code> and <code>PostContent</code>. <code>PreContent</code> appears after the opening tag specified by the <code>TagName</code> property and before whatever is applied to the <code>Content</code> property. <code>PostContent</code> appears after the <code>Content</code>, and before the closing tag specified by the <code>TagName</code> property</p>
<p><img src="../../www.mikesdotnetting.com/images/taghelpercontent.png" class="img-fluid" alt="Tag helper structure" /></p>
<p>Each of these properties have a <code>SetHtmlContent</code> method that enables content to be set. In this example, the <code>Pre-</code> and <code>PostContent</code> properties are set to an opening and closing <code>&lt;ul&gt;</code> tag. A <code>StringBuilder</code> is used to construct a set of <code>&lt;li&gt;</code> elements containing links that will be applied to the <code>Content</code> property. Finally, the <code>Attributes</code> collection's <code>Clear()</code> method is used to remove all of the custom attributes (<code>total-pages</code>, <code>link-url</code> etc) from the output. If you do not remove the custom attributes, they will be rendered in the final HTML.</p>
<p>Finally, you enable the tag helper in the _<em>ViewImports.cshtml</em> file with the <code>@addTagHelper</code> directive:</p>
<pre><code class="language-csharp">@addTagHelper *, LearnRazorPages
</code></pre>
<p>When you use a tag helper that relies on attribute parsing, the tag helper itself appears in a different colour in the page than other HTML tags, but the attributes are presented the same as any other attribute for an HTML tag:</p>
<p><img src="../images/05-06-2017-09-20-49.png" class="img-fluid" alt="Attribute Parsing" /></p>
<p>However, they are still available to Intellisense:</p>
<p><img src="../images/05-06-2017-09-25-50.png" class="img-fluid" alt="Attribute Parsing" /></p>
<div class="alert alert-warning"><p>No constraint has been placed on the attributes in terms of the types of acceptable values. It is perfectly possible for the consumer of the tag helper to provide non-integer values, which is why the check for data type is necessary in the <code>Process</code> method above. You can solve this by binding attribute values to properties instead.</p>
</div>
<h3 id="binding-to-simple-properties">Binding to simple properties</h3>
<p>Here's an example of the Pager tag helper modified to work with simple properties:</p>
<pre><code class="language-csharp">using Microsoft.AspNetCore.Razor.TagHelpers;
using System.Text;

namespace LearnRazorPages.TagHelpers
{

    [HtmlTargetElement(&quot;pager&quot;, Attributes = &quot;total-pages, current-page, link-url&quot;)]
    public class PagerTagHelper : TagHelper
    {
        public int CurrentPage { get; set; }
        public int TotalPages { get; set; }
        [HtmlAttributeName(&quot;link-url&quot;)]
        public string Url { get; set; }

        public override void Process(TagHelperContext context, TagHelperOutput output)
        {
            output.TagName = &quot;div&quot;;
            output.PreContent.SetHtmlContent(@&quot;&lt;ul class=&quot;&quot;pagination&quot;&quot;&gt;&quot;);

            var content = new StringBuilder();
            for (var i = 1; i &lt;= TotalPages; i++)
            {
                content.AppendLine(<a href="../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="290d69">[email&#160;protected]</a>&quot;&lt;li class=&quot;&quot;{(i == CurrentPage ? &quot;active&quot; : &quot;&quot;)}&quot;&quot;&gt;&lt;a href=&quot;&quot;{Url}?page={i}&quot;&quot; title=&quot;&quot;Click to go to page {i}&quot;&quot;&gt;{i}&lt;/a&gt;&lt;/li&gt;&quot;);
            }
            output.Content.SetHtmlContent(content.ToString());
            output.PostContent.SetHtmlContent(&quot;&lt;/ul&gt;&quot;);
            output.Attributes.Clear();
        }
    }
}
</code></pre>
<p>The main body of the <code>Process</code> method is almost identical to the previous example, except that is now works on the properties of the <code>PagerTagHelper</code> class. The code for extracting the attribute values has been removed. It is no longer required as the tag helper will take care of generating attributes for each public property and binding incoming values from the attributes to the property. By default, attribute names are generated as lower-case versions of the property name. If a property name includes capital letters after the first character, a hyphen is inserted, so the <code>CurrentPage</code> property becomes a <code>current-page</code> attribute.</p>
<p>Sometimes you might want to map a property name to a different attribute name. This is achieved by decorating the property with the <code>HtmlAttributeName</code> attribute, passing in the name of the attribute that should be generated for the property. You can see this above where the <code>Url</code> property is mapped to an attribute named <code>link-url</code>.</p>
<p>The generated HTML is identical to the first example, but the chief difference is that the tag helper is now strongly-typed, and it will be a design time error to pass an incorrectly typed value to an attribute - as can be seen here where a non-integer value has been supplied to the <code>total-pages</code> attribute in the page:</p>
<p><img src="../images/05-06-2017-10-02-07.png" class="img-fluid" alt="strongly typed tag helper" /></p>
<p>You also get the benefit of Intellisense telling you what type of value is expected as well as if it is required:</p>
<p><img src="../images/05-06-2017-10-06-04.png" class="img-fluid" alt="strongly typed tag helper required value" /></p>
<p>Finally, you can also benefit from XML comments on properties which can aid users of your tag helpers:</p>
<pre><code class="language-csharp">public class PagerTagHelper : TagHelper
{
  public int CurrentPage { get; set; }
  public int TotalPages { get; set; }
  /// &lt;summary&gt;
  /// The url that the paging link should point to
  /// &lt;/summary&gt;
  [HtmlAttributeName(&quot;link-url&quot;)]
  public string Url { get; set; }

  public override void Process(TagHelperContext context, TagHelperOutput output)
</code></pre>
<p><img src="../images/05-06-2017-10-09-28.png" class="img-fluid" alt="XML comments" /></p>
<h3 id="binding-to-complex-properties">Binding to complex properties</h3>
<p>The final example illustrates how to bind the tag helper to a complex property. This tag helper outputs company details using what Google refers to as <a href="https://developers.google.com/structured-data/rich-snippets/">Rich Snippets</a> - additional attributes added to HTML to provide structure to content.</p>
<p>The complex property that the tag helper will bind to is represented by the following <code>Organisation</code> class:</p>
<pre><code class="language-csharp">public class Organisation
{
    public string Name { get; set; }
    public string StreetAddress { get; set; }
    public string AddressLocality { get; set; }
    public string AddressRegion { get; set; }
    public string PostalCode { get; set; }
}
</code></pre>
<p>It is declared as a property of the TagHelper class:</p>
<pre><code class="language-csharp">using Microsoft.AspNetCore.Razor.TagHelpers;

namespace LearnRazorPages.TagHelpers
{
    public class CompanyTagHelper : TagHelper
    {
        public Organisation Organisation { get; set; }

        public override void Process(TagHelperContext context, TagHelperOutput output)
        {
            output.TagName = &quot;div&quot;;
            output.Attributes.Add(&quot;itemscope itemtype&quot;, &quot;http://schema.org/Organization&quot;);

            output.Content.SetHtmlContent(
                <a href="../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="664226">[email&#160;protected]</a>&quot;&lt;span itemprop=&quot;&quot;name&quot;&quot;&gt;{Organisation.Name}&lt;/span&gt;
                &lt;address itemprop=&quot;&quot;address&quot;&quot; itemscope itemtype=&quot;&quot;http://schema.org/PostalAddress&quot;&quot;&gt;
                &lt;span itemprop=&quot;&quot;streetAddress&quot;&quot;&gt;{Organisation.StreetAddress}&lt;/span&gt;&lt;br&gt;
                &lt;span itemprop=&quot;&quot;addressLocality&quot;&quot;&gt;{Organisation.AddressLocality}&lt;/span&gt;&lt;br&gt;
                &lt;span itemprop=&quot;&quot;addressRegion&quot;&quot;&gt;{Organisation.AddressRegion}&lt;/span&gt; 
                &lt;span itemprop=&quot;&quot;postalCode&quot;&quot;&gt;{Organisation.PostalCode}&lt;/span&gt;&quot;);
        }
    }
}

</code></pre>
<p>An <code>Organisation</code> property named Company is added to the <code>PageModel</code> and an instance is instantiated in the <code>OnGet()</code> handler of the page:</p>
<pre><code class="language-csharp">public class ContactModel : PageModel
{
    public string Message { get; set; }
    public Organisation Company { get; set; }

    public void OnGet()
    {
        Message = &quot;Contact Details&quot;;
        Company = new Organisation
        {
            Name = &quot;Microsoft Corp&quot;,
            StreetAddress = &quot;One Microsoft Way&quot;,
            AddressLocality = &quot;Redmond&quot;,
            AddressRegion = &quot;WA&quot;,
            PostalCode = &quot;98052-6399&quot;
        };
    }
}
</code></pre>
<p>The tag helper is included in the page and the <code>Company</code> property of the page model is passed to the <code>organisation</code> attribute that has been generated by the tag helper:</p>
<pre><code class="language-html">&lt;company organisation=&quot;Model.Company&quot;&gt;&lt;/company&gt;
</code></pre>
<p>And this is how the generated HTML looks:</p>
<pre><code class="language-html">&lt;div itemscope itemtype=&quot;http://schema.org/Organization&quot;&gt;
    &lt;span itemprop=&quot;name&quot;&gt;Microsoft Corp&lt;/span&gt;
    &lt;address itemprop=&quot;address&quot; itemscope itemtype=&quot;http://schema.org/PostalAddress&quot;&gt;
        &lt;span itemprop=&quot;streetAddress&quot;&gt;One Microsoft Way&lt;/span&gt;&lt;br&gt;
        &lt;span itemprop=&quot;addressLocality&quot;&gt;Redmond&lt;/span&gt;&lt;br&gt;
        &lt;span itemprop=&quot;addressRegion&quot;&gt;WA&lt;/span&gt; 
        &lt;span itemprop=&quot;postalCode&quot;&gt;98052-6399&lt;/span&gt;
    &lt;/address&gt;
&lt;/div&gt;
</code></pre>
<p>The complex property offers a more streamlined way to work in a strongly typed manner with tag helpers as it relieves the need to specify a list of properties.</p>

</div>
</div>
<section id="file-meta">
    <span class="file-meta-label">Last updated:</span> <span itemprop="dateModified">29/03/2018 22:53:29</span><br />
</section>

                </div>
                <div class="col-md-3 right-col">
                    
                            <script data-cfasync="false" src="../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
                        (function() {
                            var cx = 'partner-pub-8046723421340367:6108194070';
                            var gcse = document.createElement('script');
                            gcse.type = 'text/javascript';
                            gcse.async = true;
                            gcse.src = '../../cse.google.com/cse07b6.html?cx=' + cx;
                            var s = document.getElementsByTagName('script')[0];
                            s.parentNode.insertBefore(gcse, s);
                        })();
                            </script>
                        <gcse:searchbox-only></gcse:searchbox-only>
                    
                    <div id="doc-outline" class="doc-outline well">
                            <h3 class="doc-outline">On this page</h3>
                            <nav class="doc-outline">
                                <ul>
                                        <li><a itemprop="url" href="#creating-custom-tag-helpers" class="page-scroll">Creating Custom Tag Helpers</a></li>
                                        <li><a itemprop="url" href="#attribute-parsing" class="page-scroll">Attribute Parsing</a></li>
                                        <li><a itemprop="url" href="#associating-a-tag-with-a-taghelper" class="page-scroll">Associating a tag with a TagHelper</a></li>
                                        <li><a itemprop="url" href="#generating-html" class="page-scroll">Generating HTML</a></li>
                                        <li><a itemprop="url" href="#binding-to-simple-properties" class="page-scroll">Binding to simple properties</a></li>
                                        <li><a itemprop="url" href="#binding-to-complex-properties" class="page-scroll">Binding to complex properties</a></li>
                                </ul>
                            </nav>

                    </div>
                    <div class="rectangle">
                        
                                <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Rectangle -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:250px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="7622896857"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <div class="doc-outline well">
                        <h3 class="doc-outline">Latest Updates</h3>
                        <nav class="doc-outline">
                            <ul>
                                    <li><a itemprop="url" href="../razor-pages/tutorial/bakery/migration.html">Creating A Migration</a></li>
                                    <li><a itemprop="url" href="../razor-pages/tutorial/bakery/create-model.html">Working With A Model</a></li>
                                    <li><a itemprop="url" href="../razor-pages/routing.html">Routing in Razor Pages</a></li>
                                    <li><a itemprop="url" href="../razor-pages/tutorial/bakery/working-with-data.html">Working With Data</a></li>
                                    <li><a itemprop="url" href="../razor-pages/tutorial/bakery/new-page.html">Adding a New Page</a></li>
                                    <li><a itemprop="url" href="../razor-pages/tutorial/bakery.html">Creating an Application</a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="skyscraper">
                        
                                <script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
                            <!-- EF Core Skyscraper -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:300px;height:600px"
                                 data-ad-client="ca-pub-8046723421340367"
                                 data-ad-slot="4239197376"></ins>
                            <script>
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        
                    </div>
                    <footer>
                        <p>&copy; 2019 - Learn Razor Pages.<br />All rights reserved.</p>
                    </footer>
                </div>
            </div>
        </div>
        <a href="#page-top" id="back-to-top" class="page-scroll" title="Back to top"><i class="fas fa-arrow-alt-circle-up"></i></a>
    </div>
    <div class="cookie-box" id="cookie-warning">
        <div class="cookie-box-contents" id="learnrazorpages">This site uses cookies to analyse traffic, remember your preferences, and optimise your experience.</div>
        <div class="cookie-box-buttons"><a href="../privacy.html" class="cookie-button">Learn more</a><a href="#" class="cookie-button" id="cookie-close">Close</a></div>
    </div>
    <script src="../../ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"></script>
    <script src="../../ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.min.js"></script>
    <script src="../../code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    
    <script src="../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script src="../js/site59f2.js?v=gJZRD7PDF8oEm1Xb0uhLZcpf7Vs12fGO-q0DErBSF_Y"></script>
    
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1264020-21"></script>
        <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-1264020-21');
        </script>
    
    
</body>

<!-- Mirrored from www.learnrazorpages.com/advanced/custom-tag-helpers by HTTrack Website Copier/3.x [XR&CO'2005], Fri, 07 Jun 2019 04:19:39 GMT -->
</html>
